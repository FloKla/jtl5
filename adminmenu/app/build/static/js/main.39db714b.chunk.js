(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{59:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),l=n(48),r=n.n(l),s=(n(59),n(4)),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,l=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),l(e),r(e)}))},o=n(54),d=n(16),u=n(7),m=n(5),j=n(9),b=n.p+"static/media/creditcard.016cd1bb.svg",h=n.p+"static/media/applepay.fae6f981.svg",f=n.p+"static/media/bancontact.921db2e7.svg",x=n.p+"static/media/belfius.dfbe78b7.svg",O=n.p+"static/media/directdebit.6895c23f.svg",g=n.p+"static/media/eps.71ff7225.svg",p=n.p+"static/media/giftcard.5e62d0b7.svg",v=n.p+"static/media/giropay.724c4b56.svg",k=n.p+"static/media/ideal.bc642320.svg",N=n.p+"static/media/inghomepay.384d661a.svg",y=n.p+"static/media/kbc.de7808bb.svg",C=n.p+"static/media/klarna.51b040f6.svg",w=n.p+"static/media/mybank.279fc0c1.svg",S=n.p+"static/media/paypal.bf79cb69.svg",A=n.p+"static/media/paysafecard.9c58ede9.svg",B=n.p+"static/media/Przelewy24.9dff65a7.svg",I=n.p+"static/media/sofort.0634a619.svg",L=n.p+"static/media/Voucher.aae7b29c.svg",M=n(0),_=function(e){var t;return alert("".concat(e.mollie.description,"\n\n")+"".concat(e.duringCheckout?"!! Zahlung vor Bestellabschluss !!\n\n":"")+"Status: ".concat(e.mollie.status,"\n")+(e.api?"API: ".concat(e.api,"\n"):"")+"".concat(e.components?"Components: ".concat(e.components,"\n"):"")+"".concat(e.dueDays?"G\xfcltigkeit: ".concat(e.dueDays," Tage\n"):"")+"".concat(e.mollie.minimumAmount?"Minimum: ".concat(e.mollie.minimumAmount.value," ").concat(e.mollie.minimumAmount.currency,"\n"):"")+"".concat(e.mollie.maximumAmount?"Maximum: ".concat(e.mollie.maximumAmount.value," ").concat(e.mollie.maximumAmount.currency,"\n"):"")+"".concat(e.shipping?(t=e.shipping).length?"Versandarten:\n"+t.map((function(e){return" - "+e.cName})).join("\n")+"\n\n":"":""))},z=function(e){var t=void 0;switch(e){case"paid":case"authorized":case"completed":t="green";break;case"created":case"pending":t="gray";break;case"open":case"shipping":case"refunded":t="blue";break;case"canceled":t="orange";break;case"expired":case"failed":t="red"}return Object(M.jsx)(s.Label,{className:"inline",color:t,children:e})},D=function(e){var t=e.method,n=Object(s.usePluginInfo)();if(n.endpoint){var a=n.endpoint.substring(0,n.endpoint.lastIndexOf("/"))+"/app/build",c={applepay:h,bancontact:f,belfius:x,creditcard:b,directdebit:O,eps:g,giftcard:p,giropay:v,ideal:k,inghomepay:N,kbc:y,klarna:C,mybank:w,paypal:S,paysafecard:A,Przelewy24:B,przelewy24:B,sofort:I,voucher:L};switch(t){case"applepay":case"bancontact":case"belfius":case"creditcard":case"directdebit":case"eps":case"giftcard":case"giropay":case"ideal":case"inghomepay":case"kbc":case"mybank":case"paypal":case"paysafecard":case"Przelewy24":case"przelewy24":case"sofort":case"voucher":return Object(M.jsx)("img",{className:"inline",src:a+c[t],title:t,alt:t});case"klarnasliceit":case"klarnapaylater":return Object(M.jsx)("img",{className:"inline",src:a+c.klarna,title:t,alt:t});case"banktransfer":return Object(M.jsx)("img",{className:"inline",src:a+c.directdebit,title:t,alt:t})}}return Object(M.jsx)("pre",{children:t})};var P=n(13),R=n(51),Z=n(10),F=n(2),E=n(12),T=n(3),J=function(e){var t,n,c,l,r=e.mollie,i=Object(a.useState)(!1),o=Object(m.a)(i,2),d=o[0],u=o[1],b={id:{header:function(){return"ID"},data:function(e){var t;return Object(M.jsx)(E.a,{target:"_blank",color:"blue",href:null===(t=e._links.dashboard)||void 0===t?void 0:t.href,children:e.id})}},status:{header:function(){return"Status"},data:function(e){return z(e.status)}},method:{header:function(){return"Methode"},data:function(e){return e.method}},amount:{header:function(){return"Betrag"},data:function(e){return Object(s.formatAmount)(e.amount.value,2,e.amount.currency)}},settlement:{header:function(){return"Settlement"},data:function(e){var t;return(null===(t=e.settlementAmount)||void 0===t?void 0:t.value)?Object(s.formatAmount)(e.settlementAmount.value,2,e.settlementAmount.currency):"-"}},refunded:{header:function(){return"Refunded"},data:function(e){var t;return(null===(t=e.amountRefunded)||void 0===t?void 0:t.value)?Object(s.formatAmount)(e.amountRefunded.value,2,e.amountRefunded.currency):"-"}},remaining:{header:function(){return"Remaining"},data:function(e){var t;return(null===(t=e.amountRemaining)||void 0===t?void 0:t.value)?Object(s.formatAmount)(e.amountRemaining.value,2,e.amountRemaining.currency):"-"}},details:{header:function(){return"Details"},data:function(e){return Object(M.jsx)("pre",{style:{fontSize:"9px"},children:JSON.stringify(e.details,null,2)})}},actions:{header:function(){return" "},data:function(e){return e._links.changePaymentState?Object(M.jsx)(E.a,{href:e._links.changePaymentState.href,target:"_blank",children:Object(M.jsx)(F.a,{icon:T.j})}):""}}};return(null===(t=r._embedded)||void 0===t||null===(n=t.payments)||void 0===n?void 0:n.length)?Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return u((function(e){return!e}))},children:["Zahlungen (",null===(c=r._embedded)||void 0===c||null===(l=c.payments)||void 0===l?void 0:l.length,")",Object(M.jsx)(F.a,{className:" float-right",icon:d?T.f:T.g})]}),d?Object(M.jsx)(j.a,{striped:!0,template:b,items:r._embedded.payments}):null]}):null},V=n(52),K=n.n(V),U=function(e){var t,n,a,c=e.mollie;return Object(M.jsx)("table",{className:"w-full my-2",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Mollie ID:"}),Object(M.jsx)("td",{children:Object(M.jsx)(E.a,{target:"_blank",color:"blue",href:null===(t=c._links.dashboard)||void 0===t?void 0:t.href,children:c.id})}),Object(M.jsx)("th",{children:"Mode:"}),Object(M.jsx)("td",{children:c.mode}),Object(M.jsx)("th",{children:"Status:"}),Object(M.jsx)("td",{children:z(c.status)})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Betrag:"}),Object(M.jsx)("td",{children:Object(s.formatAmount)(c.amount.value,2,c.amount.currency)}),Object(M.jsx)("th",{children:"Captured:"}),Object(M.jsx)("td",{children:c.amountCaptured?Object(s.formatAmount)(c.amountCaptured.value,2,c.amountCaptured.currency):"-"}),Object(M.jsx)("th",{children:"Refunded:"}),Object(M.jsx)("td",{children:c.amountRefunded?Object(s.formatAmount)(c.amountRefunded.value,2,c.amountRefunded.currency):"-"})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Method:"}),Object(M.jsx)("td",{children:c.method}),Object(M.jsx)("th",{children:"Locale:"}),Object(M.jsx)("td",{children:c.locale}),Object(M.jsx)("th",{children:"Erstellt:"}),Object(M.jsxs)("td",{children:[K()(c.createdAt).format("Do MMM YYYY, HH:mm:ss")," Uhr"]})]}),Object(M.jsxs)("tr",{children:[c.billingAddress?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("th",{children:"Kunde:"}),Object(M.jsxs)("td",{children:[c.billingAddress.title," ",c.billingAddress.givenName," ",c.billingAddress.familyName]})]}):null,Object(M.jsx)("th",{children:"Zahlungslink:"}),Object(M.jsx)("td",{colSpan:3,children:(null===(n=c._links.checkout)||void 0===n?void 0:n.href)?Object(M.jsx)(E.a,{target:"_blank",color:"red",href:null===(a=c._links.checkout)||void 0===a?void 0:a.href,children:c._links.checkout.href}):"-"})]})]})})},G=function(e){var t=e.mollie,n={id:{header:function(){return"ID"},data:function(e){var t;return null!==(t=e.id)&&void 0!==t?t:"-"}},status:{header:function(){return"Status"},data:function(e){return e.status?z(e.status):"-"},align:"center"},sku:{header:function(){return"SKU"},data:function(e){return e.sku}},name:{header:function(){return"Name"},data:function(e){var t,n,a,c;return Object(M.jsxs)(M.Fragment,{children:[null!==(t=e.name)&&void 0!==t?t:"-",(null===(n=e.metadata)||void 0===n||null===(a=n.properties)||void 0===a?void 0:a.length)?null===(c=e.metadata)||void 0===c?void 0:c.properties.map((function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("br",{}),Object(M.jsx)("b",{children:JSON.stringify(e.name)}),": ",Object(M.jsx)("i",{children:JSON.stringify(e.value)})]})})):null]})}},type:{header:function(){return"Typ"},data:function(e){return e.type?function(e){switch(e){case"physical":case"digital":return Object(M.jsx)(s.Label,{className:"inline",color:"blue",children:e});case"discount":case"store_credit":case"gift_card":return Object(M.jsx)(s.Label,{className:"inline",color:"green",children:e});default:return Object(M.jsx)(s.Label,{className:"inline",color:"orange",children:e})}}(e.type):"-"},align:"center"},quantity:{header:function(){return"Anzahl"},data:function(e){var t;return null!==(t=e.quantity)&&void 0!==t?t:"-"},align:"center"},vatRate:{header:function(){return"MwSt."},data:function(e){return"".concat(parseFloat(e.vatRate),"%")},align:"center"},vatAmount:{header:function(){return"Steuer"},data:function(e){return Object(s.formatAmount)(e.vatAmount.value,2,e.vatAmount.currency)},align:"right"},netto:{header:function(){return"Netto"},data:function(e){return Object(s.formatAmount)(e.totalAmount.value-e.vatAmount.value,2,e.totalAmount.currency)},align:"right"},brutto:{header:function(){return"Brutto"},data:function(e){return Object(M.jsx)("b",{children:Object(s.formatAmount)(e.totalAmount.value,2,e.totalAmount.currency)})},align:"right"}};return Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsx)("h3",{className:"font-bold text-2xl mb-1",children:"Positionen"}),Object(M.jsx)(j.a,{template:n,items:t.lines})]})},Y=n(8),q=function(e){var t,n,c=e.mollie,l=e.kBestellung,r=Object(s.useAPI)(),i=Object(a.useState)(null),o=Object(m.a)(i,2),d=o[0],u=o[1],b=Object(a.useState)(!1),h=Object(m.a)(b,2),f=h[0],x=h[1],O=Object(a.useCallback)((function(){u(null),r.run("orders","shipments",{kBestellung:l}).then((function(e){u(e.data.data)})).catch((function(e){console.log(e)}))}),[r,l]);Object(a.useEffect)((function(){O()}),[O]);var g={lsNr:{header:function(){return"LieferscheinNr"},data:function(e){var t;return e.shipment?Object(M.jsx)(E.a,{color:"green",href:null===(t=c._links.dashboard)||void 0===t?void 0:t.href,target:"_blank",children:e.cLieferscheinNr}):e.cLieferscheinNr}},shipmentId:{header:function(){return"Shipment ID"},data:function(e){var t,n;return(null===(t=e.shipment)||void 0===t?void 0:t.cShipmentId)?null===(n=e.shipment)||void 0===n?void 0:n.cShipmentId:"-"}},carrier:{header:function(){return"Carrier"},data:function(e){var t;return(null===(t=e.shipment)||void 0===t?void 0:t.cCarrier)?e.shipment.cCarrier:"n/a"}},code:{header:function(){return"Code"},data:function(e){var t,n,a;return(null===(t=e.shipment)||void 0===t?void 0:t.cCode)?Object(M.jsx)(E.a,{color:"blue",target:"_blank",href:null===(n=e.shipment)||void 0===n?void 0:n.cUrl,children:null===(a=e.shipment)||void 0===a?void 0:a.cCode}):"n/a"}},actions:{header:function(){return" "},align:"right",data:function(e){var t=[];return"completed"!==c.status&&null===e.shipment&&t.push(Object(M.jsx)(Y.a,{title:"synchronize",onClick:function(){return t=e.kLieferschein,void r.run("shipments","sync",{kLieferschein:t,orderId:c.id,kBestellung:l}).then((function(e){e.data.error?alert(e.data.error.message):(O(),console.log(e))})).catch((function(e){alert(e.message)}));var t},children:Object(M.jsx)(F.a,{icon:T.r})})),e.cUrl&&t.push(Object(M.jsx)(Y.a,{children:Object(M.jsx)(F.a,{icon:T.p})})),Object(M.jsx)(M.Fragment,{children:t})}}};return Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return x((function(e){return!e}))},children:["Lieferungen (",null===(t=c._embedded)||void 0===t||null===(n=t.shipments)||void 0===n?void 0:n.length,")",Object(M.jsx)(F.a,{className:" float-right",icon:f?T.f:T.g})]}),f&&(d?d.length?Object(M.jsx)(j.a,{striped:!0,template:g,items:d}):Object(M.jsx)(M.Fragment,{children:"No Data!"}):Object(M.jsx)(M.Fragment,{children:"Loading..."}))]})},W=function(e){var t=e.data,n=Object(a.useState)(!1),c=Object(m.a)(n,2),l=c[0],r=c[1],s={kId:{header:function(){return"ID"},data:function(e){return e.kId}},cType:{header:function(){return"Typ"},data:function(e){return e.cType}},cResult:{header:function(){return"Result"},data:function(e){var t;return Object(M.jsx)("pre",{children:null!==(t=e.cResult)&&void 0!==t?t:"n/a"})}},dDone:{header:function(){return"Status"},data:function(e){return e.dDone?"DONE":"PENDING"},align:"center"},dCreated:{header:function(){return"Erstellt"},data:function(e){return e.dCreated},align:"right"}};return t.length?Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return r((function(e){return!e}))},children:["Queue ",t.length?Object(M.jsxs)(M.Fragment,{children:["(",t.length,")"]}):null,Object(M.jsx)(F.a,{className:" float-right",icon:l?T.f:T.g})]}),l?Object(M.jsx)(j.a,{template:s,items:t}):null]}):null},H=function(e){var t,n,c,l,r=e.mollie,i=Object(a.useState)(!1),o=Object(m.a)(i,2),d=o[0],u=o[1],b={id:{header:function(){return"ID"},data:function(e){return Object(M.jsx)("pre",{children:e.id})}},status:{header:function(){return"Status"},data:function(e){return z(e.status)}},description:{header:function(){return"Description"},data:function(e){return e.description}},amount:{header:function(){return"Amount"},data:function(e){return Object(s.formatAmount)(e.amount.value,2,e.amount.currency)}},created:{header:function(){return"Created"},data:function(e){return e.createdAt}}};return(null===(t=r._embedded)||void 0===t||null===(n=t.refunds)||void 0===n?void 0:n.length)?Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return u((function(e){return!e}))},children:["Refunds (",null===(c=r._embedded)||void 0===c||null===(l=c.refunds)||void 0===l?void 0:l.length,")",Object(M.jsx)(F.a,{className:" float-right",icon:d?T.f:T.g})]}),d?Object(M.jsx)(j.a,{striped:!0,template:b,items:r._embedded.refunds}):null]}):null},Q=function(e){var t=e.kBestellung,n=e.orderId,c=Object(s.useAPI)(),l=Object(a.useState)(null),r=Object(m.a)(l,2),i=r[0],o=r[1],d=Object(a.useState)(!1),u=Object(m.a)(d,2),b=u[0],h=u[1],f=Object(a.useCallback)((function(){o(null),c.run("orders","zalog",{kBestellung:t,id:n}).then((function(e){o(e.data.data)})).catch((function(e){console.log(e)}))}),[c,t,n]);Object(a.useEffect)((function(){f()}),[f]);var x={nLevel:{header:function(){return"Level"},data:function(e){return 1===e.nLevel?Object(M.jsx)(s.Label,{color:"red",children:"ERROR"}):2===e.nLevel?Object(M.jsx)(s.Label,{color:"blue",children:"NOTICE"}):3===e.nLevel?Object(M.jsx)(s.Label,{color:"gray",children:"DEBUG"}):e.nLevel}},cLog:{header:function(){return"Log"},data:function(e){return e.cLog}},dDatum:{header:function(){return"Timestamp"},data:function(e){return e.dDatum}}};return Object(M.jsxs)("div",{className:"mt-4",children:[Object(M.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return h((function(e){return!e}))},children:["Logs",Object(M.jsx)(F.a,{className:"float-right",icon:b?T.f:T.g})]}),b&&(i?i.length?Object(M.jsx)(j.a,{striped:!0,template:x,items:i}):Object(M.jsx)(M.Fragment,{children:"No Data!"}):Object(M.jsx)(M.Fragment,{children:"Loading..."}))]})},X=function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),c=n[0],l=n[1],r=Object(a.useState)(null),i=Object(m.a)(r,2),o=i[0],d=i[1],u=Object(a.useState)(!1),j=Object(m.a)(u,2),b=j[0],h=j[1],f=Object(P.a)(),x=Object(a.useCallback)((function(){d(null),l(null),e.id&&(h(!0),f.run("orders","one",{id:e.id}).then((function(e){l(e.data.data),d(null)})).catch(d).finally((function(){return h(!1)})))}),[f,e.id]);return Object(a.useEffect)(x,[x]),null!==o?Object(M.jsxs)("div",{className:"relative flex-col mb-3 rounded-md w-full",children:[Object(M.jsxs)("div",{className:"flex-row bg-black p-3 rounded-md text-white font-bold text-2xl",children:[Object(M.jsxs)("div",{className:"flex-grow",children:["Bestellung: ",null===c||void 0===c?void 0:c.order.cBestellNr," (",Object(M.jsx)("pre",{className:"inline text-ws_gray-light",children:e.id}),")"]}),Object(M.jsx)("div",{onClick:x,className:"cursor-pointer mr-2",children:Object(M.jsx)(F.a,{icon:T.r,spin:b,size:"sm"})}),Object(M.jsx)("div",{onClick:e.onClose,className:"cursor-pointer",children:Object(M.jsx)(F.a,{icon:T.s})})]}),Object(M.jsxs)(R.a,{variant:"error",icon:{icon:Z.b},children:['Fehler beim laden der Bestellung "',e.id,'": ',o.message]})]}):Object(M.jsx)("div",{className:"relative flex-col mb-3 rounded-md w-full",children:Object(M.jsxs)(s.Loading,{loading:b,className:"rounded-md",children:[Object(M.jsxs)("div",{className:"flex-row bg-black p-3 rounded-md text-white font-bold text-2xl",children:[Object(M.jsxs)("div",{className:"flex-grow",children:["Bestellung: ",Object(M.jsx)("span",{title:null===c||void 0===c?void 0:c.order.kBestellung,children:null===c||void 0===c?void 0:c.order.cBestellNr})," (",Object(M.jsx)("pre",{className:"inline text-ws_gray-light",children:e.id}),")"]}),Object(M.jsx)("div",{onClick:x,className:"cursor-pointer mr-2",children:Object(M.jsx)(F.a,{icon:T.r,spin:b,size:"sm"})}),Object(M.jsx)("div",{onClick:e.onClose,className:"cursor-pointer",children:Object(M.jsx)(F.a,{icon:T.s})})]}),Object(M.jsxs)("div",{className:" rounded-md",children:[c&&c.mollie&&Object(M.jsx)(U,{mollie:c.mollie}),c&&"payment"===c.mollie.resource?Object(M.jsx)(M.Fragment,{}):Object(M.jsxs)(M.Fragment,{children:[c&&c.mollie&&Object(M.jsx)(G,{mollie:c.mollie}),c&&c.mollie&&Object(M.jsx)(J,{mollie:c.mollie}),c&&c.mollie&&c.bestellung&&Object(M.jsx)(q,{kBestellung:c.bestellung.kBestellung,mollie:c.mollie})]}),c&&c.mollie&&Object(M.jsx)(H,{mollie:c.mollie}),c&&c.logs&&Object(M.jsx)(W,{data:c.logs}),c&&c.mollie&&c.bestellung&&Object(M.jsx)(Q,{orderId:c.mollie.id,kBestellung:c.bestellung.kBestellung})]})]})})},$=n(53),ee=function(){var e=Object(a.useState)(0),t=Object(m.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),r=Object(m.a)(l,2),i=r[0],b=r[1],h=Object(a.useState)({}),f=Object(m.a)(h,2),x=f[0],O=f[1],g=Object(P.a)(),p=Object(s.usePluginInfo)(),v={cBestellNr:{header:function(){return"BestellNr"},data:function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(E.a,{color:"blue",onClick:function(){return O((function(t){return t[e.cOrderId]?Object(u.a)({},t):Object(u.a)(Object(d.a)({},e.cOrderId,e.cBestellNr),t)}))},children:e.cBestellNr}),parseInt(e.bSynced)?null:Object(M.jsx)("abbr",{className:"cursor-help",title:"Nicht abholbar.",children:"*"})]})}},cOrderId:{header:function(){return"mollie ID"},data:function(e){return Object(M.jsxs)(M.Fragment,{children:[parseInt(e.bTest)?Object(M.jsx)(s.Label,{className:"inline mr-1",color:"red",children:"TEST"}):null,Object(M.jsx)("pre",{className:"inline",children:e.cOrderId})]})}},cStatus:{header:function(){return"mollie Status"},data:function(e){return z(e.fAmountRefunded===e.fAmount?"refunded":e.cStatus)},align:"center"},cJTLStatus:{header:function(){return"JTL Status"},data:function(e){return function(e){var t=void 0;switch("string"===typeof e?parseInt(e):e){case-1:t="red";break;case 1:case 2:t="orange";break;case 3:t="blue";break;case 4:case 5:t="green"}return Object(M.jsx)(s.Label,{color:t,className:"inline",children:Object(s.jtlStatus2text)("".concat(e))})}(e.cJTLStatus)},align:"center"},cLocale:{header:function(){return"Locale"},data:function(e){return e.cLocale}},cMethod:{header:function(){return"Methode"},data:function(e){return Object(M.jsx)(D,{method:e.cMethod})},align:"center"},fAmount:{header:function(){return"Betrag"},data:function(e){return Object(s.formatAmount)(e.fAmount)},align:"right"},cCurrency:{header:function(){return"W\xe4hrung"},data:function(e){return e.cCurrency}},dCreated:{header:function(){return"Erstellt"},data:function(e){return e.dCreated},align:"right"},actions:{header:function(){return""},data:function(e){return Object(M.jsxs)(M.Fragment,{children:[!parseInt(e.bSynced)&&Object(M.jsx)(Y.a,{onClick:function(){return t=e.cOrderId,b(!0),void g.run("orders","fetchable",{id:t}).then((function(){return alert("Bitte Tabelle aktualisieren!")})).finally((function(){return b(!1)}));var t},title:"Abholbar machen",className:"mr-1",children:Object(M.jsx)(F.a,{icon:T.t})}),!["paid","authorized","completed","pending"].includes(e.cStatus)&&parseInt(e.cJTLStatus)>0?Object(M.jsx)(Y.a,{onClick:function(){return t=e.kId,b(!0),void g.run("orders","reminder",{id:t}).then((function(){return alert("E-Mail versendet.")})).catch(alert).finally((function(){return b(!1)}));var t},title:"Zahlungserinnerung "+(null!==e.dReminder?"erneut ":"")+"verschicken",className:"mr-1",children:null!==e.dReminder?Object(M.jsxs)("span",{className:"fa-layers fa-fw",children:[Object(M.jsx)(F.a,{icon:T.k,inverse:!0,transform:"shrink-7"}),Object(M.jsx)(F.a,{icon:$.a,inverse:!0,transform:"grow-7"})]}):Object(M.jsx)(F.a,{icon:T.k})}):null,Object(M.jsx)(Y.a,{onClick:function(){return t=e.cOrderId,b(!0),void fetch(p.shopURL+"?mollie=1&id=".concat(t,"&admin=1"),{mode:"no-cors",method:"GET"}).then((function(){return fetch(p.shopURL,{mode:"no-cors"}).then((function(){return alert("Bitte Tabelle aktualisieren!")}))})).finally((function(){return b(!1)}));var t},title:"Simulate Webhook",children:Object(M.jsx)(F.a,{icon:T.e})})]})},align:"right"}},k=Object(M.jsx)(j.a,{striped:!0,template:v,loading:i,onData:function(e,t){return b(!0),new Promise((function(n,a){g.run("orders","all",{query:"SELECT o.*, b.cStatus as cJTLStatus, b.cAbgeholt, b.cVersandartName, b.cZahlungsartName, b.fGuthaben, b.fGesamtsumme FROM xplugin_ws5_mollie_orders o JOIN tbestellung b ON b.kbestellung = o.kBestellung ORDER BY b.dErstellt DESC;",params:{":limit":t,":offset":e*t}}).then((function(e){c(e.data.data.maxItems),n(e.data.data.items)})).catch(a).finally((function(){return b(!1)}))}))},paginate:{maxPages:2,maxItems:n,itemsPerPage:10}});return Object(M.jsx)("div",{className:"relative container mx-auto",children:Object.keys(x).length>0?Object(M.jsx)("div",{className:"container bg-white p-1 mx-auto rounded-md",children:Object(M.jsx)(s.Tabs,{active:Object.keys(x).length,tabs:[{component:k,title:"\xdcbersicht",isDashboard:!1,color:"blue"}].concat(Object(o.a)(Object.keys(x).reverse().map((function(e,t){return{component:Object(M.jsx)(X,{id:e,onClose:function(){return t=e,void O((function(e){if(e[t]){var n=Object(u.a)({},e);return delete n[t],n}return Object(u.a)({},e)}));var t}}),isDashboard:!1,title:x[e]}}))))})}):Object(M.jsx)("div",{className:"bg-white rounded-md p-1",children:k})})},te=n.p+"static/media/mollie-dashboard.8d8e65e5.png",ne=function(e){var t,n,a=e.method;return Object(M.jsx)("div",{style:{flexBasis:"33%"},children:Object(M.jsxs)("div",{className:"m-2 p-2 border-b",children:[a.paymentMethod&&a.duringCheckout&&!a.allowDuringCheckout&&Object(M.jsx)(F.a,{className:"mr-4 ml-1 cursor-help",icon:Z.c,color:"red",onClick:function(){return alert("Zahlung vor Bestellabschluss wird nicht unterst\xfctzt. Diese Zahlungsart wird nicht zur auswahl stehen.")},title:"Zahlung vor Bestellabschluss nicht unterst\xfctzt."}),Object(M.jsx)(D,{method:a.mollie.id})," ",a.mollie.description,Object(M.jsx)(F.a,{icon:T.n,title:"Informationen anzeigen",size:"sm",className:"ml-2 cursor-help",onClick:function(){return _(a)}}),Object(M.jsxs)("div",{className:"float-right",children:[a.duringCheckout?Object(M.jsx)(F.a,{icon:T.k,className:"ml-1 cursor-help",title:"Zahlung vor Bestellabschluss",color:a.allowDuringCheckout?"green":"red"}):Object(M.jsx)(F.a,{icon:T.l,className:"ml-1 cursor-help",title:"Zahlung nach Bestellabschluss",color:a.allowDuringCheckout?"blue":"green"}),a.components?Object(M.jsx)(M.Fragment,{children:"S"===a.components||"Y"===a.components?Object(M.jsx)(F.a,{className:"ml-1 cursor-help",icon:T.i,onClick:function(){return alert("Mollie Components sind aktiviert: "+("S"===a.components?"optional.":"obligatorisch."))},title:"Mollie Components enabled."+("S"===a.components?" (optional)":" (obligatorisch)"),color:"S"===a.components?"green":"blue"}):Object(M.jsx)(F.a,{className:"ml-1 cursor-help",icon:T.i,onClick:function(){return alert("Mollie Components sind deaktiviert.")},color:"red",title:"Mollie Components disabled"})}):null,a.api&&"payment"===a.api?Object(M.jsx)(F.a,{className:"cursor-help ml-1",icon:T.o,onClick:function(){return alert("Payment API ist aktiviert.")},title:"Payment API",color:"green"}):null,Object(M.jsx)(F.a,{icon:T.p,onClick:function(){var e;return alert(a.shipping&&(null===(e=a.shipping)||void 0===e?void 0:e.length)?"Mit folgende Versandarten verkn\xfcpft:\n\n"+a.shipping.map((function(e){return" - "+e.cName})).join("\n"):"Mit keiner Versandart verkn\xfcpft!")},className:"cursor-help ml-1",color:a.shipping&&(null===(t=a.shipping)||void 0===t?void 0:t.length)?"green":"red",title:a.shipping&&(null===(n=a.shipping)||void 0===n?void 0:n.length)?a.shipping.map((function(e){return e.cName})).join(", "):"n/a"}),!1===a.paymentMethod?null:Object(M.jsx)("a",{title:"Einstellungen",href:a.settings,className:"ml-1",target:"_blank",rel:"noreferrer",children:Object(M.jsx)(F.a,{icon:T.h})})]})]})},a.mollie.id)},ae=function(e){var t,n=e.method,a=[];return n.shipping.length||a.push("Keine Versandarten verkn\xfcpft."),n.paymentMethod||a.push("Keine Zahlungsart im Shop gefunden."),n.paymentMethod&&n.duringCheckout&&!n.allowDuringCheckout&&a.push("Zahlung vor Bestellabschluss leider nicht m\xf6glich."),Object(M.jsx)("div",{style:{flexBasis:"33%"},children:Object(M.jsxs)("div",{className:"m-2 p-2 border-b",children:["activated"!==n.mollie.status?Object(M.jsx)(F.a,{className:"mr-4 ml-1 cursor-help",icon:Z.f,color:"red",onClick:function(){return alert("Zahlungsart bei Mollie nicht aktiv.")},title:"Zahlungsart bei Mollie nicht aktiv."}):Object(M.jsx)(F.a,{className:"mr-4 ml-1 cursor-help",icon:Z.c,color:"red",onClick:function(){return alert(a.join("\n"))},title:a.join(" ")}),Object(M.jsx)(D,{method:n.mollie.id})," ",Object(M.jsx)("span",{className:"activated"!==n.mollie.status?"text-red-400":"",children:n.mollie.description}),Object(M.jsx)(F.a,{icon:T.n,title:"Informationen anzeigen",size:"sm",className:"ml-2 cursor-help",onClick:function(){return _(n)}}),Object(M.jsxs)("div",{className:"float-right",children:[n.duringCheckout?Object(M.jsx)(F.a,{icon:T.k,className:"ml-1 cursor-help",title:"Zahlung vor Bestellabschluss",color:n.allowDuringCheckout?"green":"red"}):Object(M.jsx)(F.a,{icon:T.l,className:"ml-1 cursor-help",title:"Zahlung nach Bestellabschluss",color:n.allowDuringCheckout?"blue":"green"}),n.shipping&&(null===(t=n.shipping)||void 0===t?void 0:t.length)?null:Object(M.jsx)(F.a,{icon:T.p,color:"red",title:"Mit keine Versandart verbunden.",className:"ml-1 cursor-help"}),!1===n.paymentMethod?null:Object(M.jsx)("a",{title:"Einstellungen",href:n.settings,className:"ml-1",target:"_blank",rel:"noreferrer",children:Object(M.jsx)(F.a,{icon:T.h})})]})]})},n.mollie.id)},ce=[{title:"Dashboard",isDashboard:!0,component:function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)({}),r=Object(m.a)(l,2),i=r[0],o=r[1],j=Object(a.useState)({}),b=Object(m.a)(j,2),h=b[0],f=b[1],x=Object(a.useState)({methods:!1,statistics:!1}),O=Object(m.a)(x,2),g=O[0],p=O[1],v=Object(a.useState)(!0),k=Object(m.a)(v,2),N=k[0],y=k[1],C=Object(s.usePluginInfo)(),w=C.endpoint.substring(0,C.endpoint.lastIndexOf("/"))+"/app/build",S=Object(P.a)(),A=function(e,t){p((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(d.a)({},e,t))}))},B=Object(a.useCallback)((function(){A("methods",!0),S.run("mollie","methods").then((function(e){o(e.data.data),y(!1)})).catch(console.error).finally((function(){A("methods",!1)}))}),[S]),I=Object(a.useCallback)((function(){A("statistics",!0),S.run("mollie","statistics").then((function(e){return f(e.data.data)})).catch(console.error).finally((function(){return A("statistics",!1)}))}),[S]);Object(a.useEffect)((function(){B(),I()}),[I,B]);var L=[],_=[];return Object.keys(i).forEach((function(e){"activated"===i[e].mollie.status&&i[e].shipping.length&&i[e].paymentMethod&&(!i[e].duringCheckout||i[e].allowDuringCheckout)?L.push(Object(M.jsx)(ne,{method:i[e]})):_.push(Object(M.jsx)(ae,{method:i[e]}))})),Object(M.jsxs)("div",{className:"mx-2",children:[Object(M.jsxs)("div",{className:"mb-4 w-full bg-white rounded-md p-4 relative",children:[Object(M.jsx)(F.a,{onClick:B,spin:g.methods,icon:T.r,size:"lg",className:"float-right cursor-pointer",title:"aktualisieren"}),N?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("img",{src:w+te,alt:"Setup Assistant",className:"mx-auto"}),Object(M.jsx)(Y.a,{onClick:function(){return window.location.href="https://ws-url.de/mollie-pay"},color:"green",className:"mx-auto block my-6",children:"Jetzt kostenlos Mollie Account anlegen!"})]}):Object(M.jsxs)("div",{className:"flex items-center my-3",children:[Object(M.jsx)("img",{src:"https://cdn.webstollen.de/plugins/ws_mollie_ws.svg",alt:"Plugin Icon",className:"mr-2 max-w-full",style:{maxWidth:"100px"}}),Object(M.jsxs)("div",{className:"text-xl",children:["Integireren Sie alle wichtigen",Object(M.jsx)("br",{}),"Zahlungsmethoden in k\xfcrzester zeit."]}),Object(M.jsx)("div",{children:Object(M.jsxs)(Y.a,{onClick:function(){var e;return null===(e=window.open("https://mollie.com/dashboard","_blank"))||void 0===e?void 0:e.focus()},className:"mx-8",children:["Mollie Dashboard ",Object(M.jsx)(F.a,{icon:T.m})]})})]}),Object(M.jsxs)(s.Loading,{loading:g.methods,children:[L.length>0&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("b",{children:"Aktive Zahlungsarten:"}),Object(M.jsx)("div",{className:"flex flex-wrap content-center justify-start flex-row mb-4",children:L})]}),_.length>0&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("b",{children:"Zahlungsarten mit Problemen:"}),Object(M.jsx)("div",{className:"flex flex-wrap content-center justify-start flex-row mb-4",children:_})]})]}),Object(M.jsxs)("div",{className:"text-right",children:[Object(M.jsxs)(E.a,{className:"text-xs",onClick:function(){return c((function(e){return!e}))},children:["Legende ",n?"ausblenden":"anzeigen"]}),n?Object(M.jsx)("div",{className:"m-2 p-2",children:Object(M.jsxs)("ul",{children:[Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"red",icon:Z.f,title:"Konfigurationsfehler bei Mollie"})," = Konfigurationsfehler bei Mollie"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"red",size:"xs",icon:Z.c,title:"Konfigurationsfehler im Shop"})," ","= Konfigurationsfehler im Shop"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"red",size:"xs",icon:T.p,title:"Keine Versandarten verbunden"})," ","= Keine Versandarten verbunden"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"green",size:"xs",icon:T.p,title:"Versandarten verbunden"})," = Versandarten verbunden"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"red",size:"xs",icon:T.i,title:"Mollie Components deaktiviert"})," ","= Mollie Components deaktiviert"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"blue",size:"xs",icon:T.i,title:"Mollie Components aktiviert (obligatorisch)"})," ","= Mollie Components aktiviert (obligatorisch)"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"green",size:"xs",icon:T.i,title:"Mollie Components aktiviert (optional)"})," ","= Mollie Components aktiviert (optional)"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"green",size:"xs",icon:T.o,title:"Payment API aktiviert"})," = Payment API aktiviert"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"green",size:"xs",icon:T.k,title:"Zahlung vor Bestellabschluss"})," ","= Zahlung vor Bestellabschluss"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"red",size:"xs",icon:T.k,title:"Fehler: Zahlung vor Bestellabschluss"})," ","= Fehler: Zahlung vor Bestellabschluss"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"green",size:"xs",icon:T.l,title:"Zahlung nach Bestellabschluss"})," ","= Zahlung nach Bestellabschluss"]}),Object(M.jsxs)("li",{className:"text-xs",children:[Object(M.jsx)(F.a,{color:"blue",size:"xs",icon:T.l,title:"Zahlung nach Bestellabschluss, zahlung vor Bestellabschluss w\xe4re m\xf6glich!"})," ","= Zahlung nach Bestellabschluss"]})]})}):null]}),Object(M.jsx)(Y.a,{onClick:function(){return window.location.href="versandarten.php"},color:"blue",className:"mx-auto block my-6",children:"Zu den Versandarten"})]}),Object(M.jsxs)("div",{className:"flex flex-row mb-3",children:[Object(M.jsxs)("div",{className:"bg-white rounded-md flex-1 p-4 mr-2 relative",children:[Object(M.jsx)(F.a,{onClick:I,spin:g.statistics,icon:T.r,size:"lg",className:"float-right cursor-pointer",title:"aktualisieren"}),Object(M.jsx)("b",{children:"Mollie Ums\xe4tze:"}),Object(M.jsx)(s.Loading,{loading:g.statistics,children:Object(M.jsxs)("div",{className:"flex flex-row justify-around items-baseline place-items-center my-5",children:[h.day&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:Object(s.formatAmount)(h.day.amount,2,"\u20ac")}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last day"})]}),h.week&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:Object(s.formatAmount)(h.week.amount,2,"\u20ac")}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last week"})]}),h.month&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:Object(s.formatAmount)(h.month.amount,2,"\u20ac")}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last month"})]}),h.year&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:Object(s.formatAmount)(h.year.amount,2,"\u20ac")}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last year"})]})]})})]}),Object(M.jsxs)("div",{className:"bg-white rounded-md flex-1 p-4 ml-2 relative",children:[Object(M.jsx)(F.a,{onClick:I,spin:g.statistics,icon:T.r,size:"lg",className:"float-right cursor-pointer",title:"aktualisieren"}),Object(M.jsx)("b",{children:"Mollie Transaktionen:"}),Object(M.jsx)(s.Loading,{loading:g.statistics,children:Object(M.jsxs)("div",{className:"flex flex-row justify-around items-baseline place-items-center my-5",children:[h.day&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:h.day.transactions}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last day"})]}),h.week&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:h.week.transactions}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last week"})]}),h.month&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:h.month.transactions}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last month"})]}),h.year&&Object(M.jsxs)("div",{className:"flex flex-col",children:[Object(M.jsx)("div",{className:"font-semibold",children:h.year.transactions}),Object(M.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last year"})]})]})})]})]})]})}},{title:"Bestellungen",isDashboard:!1,component:ee}];r.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(s.App,{tabs:ce})}),document.getElementById("root")),i()}},[[85,1,2]]]);
//# sourceMappingURL=main.39db714b.chunk.js.map