(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{68:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(23),l=n.n(r),i=(n(68),n(7)),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,96)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),r(e),l(e)}))},o=n(22),d=n(26),u=n(20),j=n(2),b=n(6),h=n.n(b),m=n(8),O=n(5),f=n(11),x=n(17),v=n(14),p=n(3),g=n(63),k=n.n(g),y=n(13),N=n.p+"static/media/creditcard.016cd1bb.svg",w=n.p+"static/media/applepay.fae6f981.svg",C=n.p+"static/media/bancontact.921db2e7.svg",S=n.p+"static/media/belfius.dfbe78b7.svg",L=n.p+"static/media/directdebit.6895c23f.svg",I=n.p+"static/media/eps.71ff7225.svg",E=n.p+"static/media/giftcard.5e62d0b7.svg",M=n.p+"static/media/giropay.724c4b56.svg",R=n.p+"static/media/ideal.bc642320.svg",A=n.p+"static/media/inghomepay.384d661a.svg",B=n.p+"static/media/kbc.de7808bb.svg",_=n.p+"static/media/klarna.51b040f6.svg",q=n.p+"static/media/mybank.279fc0c1.svg",D=n.p+"static/media/paypal.bf79cb69.svg",P=n.p+"static/media/paysafecard.9c58ede9.svg",z=n.p+"static/media/Przelewy24.9dff65a7.svg",F=n.p+"static/media/sofort.0634a619.svg",Z=n.p+"static/media/Voucher.aae7b29c.svg",T=n(0),W=function(e){var t;return alert("".concat(e.mollie.description,"\n\n")+"".concat(e.duringCheckout?"!! Zahlung vor Bestellabschluss !!\n\n":"")+"Status: ".concat(e.mollie.status,"\n")+(e.api?"API: ".concat(e.api,"\n"):"")+"".concat(e.components?"Components: ".concat(e.components,"\n"):"")+"".concat(e.dueDays?"G\xfcltigkeit: ".concat(e.dueDays," Tage\n"):"")+"".concat(e.mollie.minimumAmount?"Minimum: ".concat(e.mollie.minimumAmount.value," ").concat(e.mollie.minimumAmount.currency,"\n"):"")+"".concat(e.mollie.maximumAmount?"Maximum: ".concat(e.mollie.maximumAmount.value," ").concat(e.mollie.maximumAmount.currency,"\n"):"")+"".concat(e.shipping?(t=e.shipping).length?"Versandarten:\n"+t.map((function(e){return" - "+e.cName})).join("\n")+"\n\n":"":""))},K=function(e){switch(e){case"physical":case"digital":return Object(T.jsx)(i.Label,{className:"inline",color:"blue",children:e});case"discount":case"store_credit":case"gift_card":return Object(T.jsx)(i.Label,{className:"inline",color:"green",children:e});default:return Object(T.jsx)(i.Label,{className:"inline",color:"orange",children:e})}},J=function(e){var t=void 0;switch(e){case"paid":case"authorized":case"completed":t="green";break;case"created":case"pending":t="gray";break;case"open":case"shipping":case"refunded":t="blue";break;case"canceled":t="orange";break;case"expired":case"failed":t="red"}return Object(T.jsx)(i.Label,{className:"inline",color:t,children:e})},V=function(e){var t=void 0;switch("string"===typeof e?parseInt(e):e){case-1:t="red";break;case 1:case 2:t="orange";break;case 3:t="blue";break;case 4:case 5:t="green"}return Object(T.jsx)(i.Label,{color:t,className:"inline",children:Object(i.jtlStatus2text)("".concat(e))})},U=function(e){var t=e.method,n=Object(i.usePluginInfo)();if(n.endpoint){var c=n.endpoint.substring(0,n.endpoint.lastIndexOf("/"))+"/app/build",a={applepay:w,bancontact:C,belfius:S,creditcard:N,directdebit:L,eps:I,giftcard:E,giropay:M,ideal:R,inghomepay:A,kbc:B,klarna:_,mybank:q,paypal:D,paysafecard:P,Przelewy24:z,przelewy24:z,sofort:F,voucher:Z};switch(t){case"applepay":case"bancontact":case"belfius":case"creditcard":case"directdebit":case"eps":case"giftcard":case"giropay":case"ideal":case"inghomepay":case"kbc":case"mybank":case"paypal":case"paysafecard":case"Przelewy24":case"przelewy24":case"sofort":case"voucher":return Object(T.jsx)("img",{className:"inline",src:c+a[t],title:t,alt:t});case"klarnasliceit":case"klarnapaylater":case"klarnapaynow":return Object(T.jsx)("img",{className:"inline",src:c+a.klarna,title:t,alt:t});case"banktransfer":return Object(T.jsx)("img",{className:"inline",src:c+a.directdebit,title:t,alt:t})}}return Object(T.jsx)("pre",{style:{display:"inline"},children:t})};var Y=a.a.createContext({}),G=function(){var e,t,n,a,r,l,s,o,d,u,j,b,h,m,O,f,x,v,p,g,N,w,C,S,L,I=Object(c.useContext)(Y);return Object(T.jsx)(i.Loading,{loading:I.loading,children:Object(T.jsx)("table",{className:"w-full my-2",children:Object(T.jsxs)("tbody",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Mollie ID:"}),Object(T.jsx)("td",{children:Object(T.jsx)(y.a,{target:"_blank",color:"blue",href:null===(e=I.data)||void 0===e||null===(t=e._links.dashboard)||void 0===t?void 0:t.href,children:null===(n=I.data)||void 0===n?void 0:n.id})}),Object(T.jsx)("th",{children:"Mode:"}),Object(T.jsx)("td",{children:null===(a=I.data)||void 0===a?void 0:a.mode}),Object(T.jsx)("th",{children:"Status:"}),Object(T.jsx)("td",{children:J(null===(r=I.data)||void 0===r?void 0:r.status)})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Betrag:"}),Object(T.jsx)("td",{children:Object(i.formatAmount)(null===(l=I.data)||void 0===l?void 0:l.amount.value,2,null===(s=I.data)||void 0===s?void 0:s.amount.currency)}),Object(T.jsx)("th",{children:"Captured:"}),Object(T.jsx)("td",{children:(null===(o=I.data)||void 0===o?void 0:o.amountCaptured)?Object(i.formatAmount)(null===(d=I.data)||void 0===d?void 0:d.amountCaptured.value,2,null===(u=I.data)||void 0===u?void 0:u.amountCaptured.currency):"-"}),Object(T.jsx)("th",{children:"Refunded:"}),Object(T.jsx)("td",{children:(null===(j=I.data)||void 0===j?void 0:j.amountRefunded)?Object(i.formatAmount)(null===(b=I.data)||void 0===b?void 0:b.amountRefunded.value,2,null===(h=I.data)||void 0===h?void 0:h.amountRefunded.currency):"-"})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{children:"Method:"}),Object(T.jsx)("td",{children:null===(m=I.data)||void 0===m?void 0:m.method}),Object(T.jsx)("th",{children:"Locale:"}),Object(T.jsx)("td",{children:null===(O=I.data)||void 0===O?void 0:O.locale}),Object(T.jsx)("th",{children:"Erstellt:"}),Object(T.jsxs)("td",{children:[k()(null===(f=I.data)||void 0===f?void 0:f.createdAt).format("Do MMM YYYY, HH:mm:ss")," Uhr"]})]}),Object(T.jsxs)("tr",{children:[(null===(x=I.data)||void 0===x?void 0:x.billingAddress)?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("th",{children:"Kunde:"}),Object(T.jsxs)("td",{children:[null===(v=I.data)||void 0===v?void 0:v.billingAddress.title," ",null===(p=I.data)||void 0===p?void 0:p.billingAddress.givenName," ",null===(g=I.data)||void 0===g?void 0:g.billingAddress.familyName]})]}):null,Object(T.jsx)("th",{children:"Zahlungslink:"}),Object(T.jsx)("td",{colSpan:3,children:(null===(N=I.data)||void 0===N||null===(w=N._links.checkout)||void 0===w?void 0:w.href)?Object(T.jsx)(y.a,{target:"_blank",color:"red",href:null===(C=I.data)||void 0===C||null===(S=C._links.checkout)||void 0===S?void 0:S.href,children:null===(L=I.data)||void 0===L?void 0:L._links.checkout.href}):"-"})]})]})})})},Q=f.a,H=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(c.useState)({loading:!1,error:null,data:null}),a=Object(O.a)(n,2),r=a[0],l=a[1],i=Object(c.useCallback)((function(){var t=Q();l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),"ord_"===e.substring(0,4)?t.run("mollie","getOrder",{id:e}).then((function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))})):"tr_"===e.substring(0,3)&&t.run("mollie","getPayment",{id:e}).then((function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}))}),[e,l]),s=Object(c.useCallback)(function(){var t=Object(m.a)(h.a.mark((function t(n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=Q(),!(n<=0)){t.next=3;break}throw new Error("Betrag kann nicht kleiner oder gleich Null sein.");case 3:l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0})})),c.run("Mollie","refundAmount",{amount:n,id:e}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,i,l]),o=Object(c.useCallback)(function(){var t=Object(m.a)(h.a.mark((function t(n,c){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Q(),!(c<=0)){t.next=3;break}throw new Error("Anzahl kann nicht kleiner oder gleich Null sein.");case 3:l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0})})),a.run("mollie","cancelOrderLine",{id:e,lineId:n,quantity:c}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){var n,c,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.data)||void 0===n||null===(c=n.error)||void 0===c?void 0:c.message){e.next=5;break}return e.next=3,i();case 3:e.next=6;break;case 5:alert(null===(a=t.data)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e,i,l]),d=Object(c.useCallback)(Object(m.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Q(),l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0})})),n.run("mollie","cancelOrder",{id:e}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){var n,c,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.data)||void 0===n||null===(c=n.error)||void 0===c?void 0:c.message){e.next=5;break}return e.next=3,i();case 3:e.next=6;break;case 5:alert(null===(a=t.data)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 3:case"end":return t.stop()}}),t)}))),[e,i,l]),u=Object(c.useCallback)(Object(m.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Q(),l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0})})),n.run("mollie","refundOrder",{id:e}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){var n,c,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.data)||void 0===n||null===(c=n.error)||void 0===c?void 0:c.message){e.next=5;break}return e.next=3,i();case 3:e.next=6;break;case 5:alert(null===(a=t.data)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.message);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 3:case"end":return t.stop()}}),t)}))),[e,i,l]),b=Object(c.useCallback)(function(){var t=Object(m.a)(h.a.mark((function t(n,c){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Q(),!(c<=0)){t.next=3;break}throw new Error("Anzahl kann nicht kleiner oder gleich Null sein.");case 3:l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0})})),a.run("mollie","refundOrderLine",{id:e,lineId:n,quantity:c}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e,i,l]),f=Object(c.useCallback)(function(){var t=Object(m.a)(h.a.mark((function t(n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=Q(),n.trim()&&(l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0})})),c.run("mollie","cancelRefund",{id:e,refundId:n}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,i,l]);return Object(c.useEffect)((function(){t&&i()}),[t,i]),{loading:r.loading,data:r.data,error:r.error,load:i,refundAmount:s,cancelOrderLine:o,refundOrderLine:b,cancelOrder:d,refundOrder:u,cancelRefund:f}},X=n(4),$=f.a,ee=function(e){var t=Object(c.useState)({loading:!1,error:null,data:null}),n=Object(O.a)(t,2),a=n[0],r=n[1],l=Object(c.useCallback)((function(){var t=$();r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),t.run("orders","get",{id:e}).then((function(e){return r((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return r((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}))}),[e,r]);return{loading:a.loading,data:a.data,error:a.error,load:l}},te=n(9),ne=function(){return Object(o.b)({position:"top-right",style:{backgroundColor:"#FF0000",color:"white",fontSize:"20px",textAlign:"center",padding:"10px"}})},ce=n(12),ae=[{title:"ID",column:"id"},{title:"Status",column:"status"},{title:"SKU",column:"sku"},{title:"Name",column:"name"},{title:"Anzahl",column:"quantity"},{title:"MwSt.",column:"vatRate"},{title:"Steuer.",column:"tax"},{title:"Brutto",column:"brutto"},{title:"",column:"_actions"}],re=function(){var e,t,n,a=Object(c.useContext)(Y),r=ne(),l=Object(O.a)(r,1)[0];return Object(T.jsx)(i.Loading,{loading:a.loading,children:Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsxs)("div",{className:"flex justify-between mb-2",children:[Object(T.jsx)("h3",{className:"font-bold text-2xl mb-1",children:"Positionen"}),(null===(e=a.data)||void 0===e?void 0:e.isCancelable)&&Object(T.jsx)(te.a,{color:"orange",onClick:function(){window.confirm("Diese Bestellung bei Mollie wirklich abbrechen?")&&a.cancelOrder().catch((function(e){return l("".concat(e))}))},children:"cancel Order"}),["paid","completed"].includes(null===(t=a.data)||void 0===t?void 0:t.status)&&Object(T.jsx)(te.a,{color:"red",onClick:function(){window.confirm("Diese Bestellung bei Mollie wirklich zur\xfcck erstatten?")&&a.refundOrder().catch((function(e){return l("".concat(e))}))},children:"refund Order"})]}),Object(T.jsx)(ce.a,{striped:!0,fullWidth:!0,header:ae,children:null===(n=a.data)||void 0===n?void 0:n.lines.map((function(e){var t,n,c,r,s,o;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:null!==(t=e.id)&&void 0!==t?t:"-"}),Object(T.jsx)("td",{className:"text-center",children:e.status?J(e.status):"-"}),Object(T.jsxs)("td",{children:[null!==(n=e.sku)&&void 0!==n?n:"-",Object(T.jsx)("br",{}),e.type?K(e.type):"-"]}),Object(T.jsxs)("td",{children:[null!==(c=e.name)&&void 0!==c?c:"-",(null===(r=e.metadata)||void 0===r||null===(s=r.properties)||void 0===s?void 0:s.length)?null===(o=e.metadata)||void 0===o?void 0:o.properties.map((function(e){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:JSON.stringify(e.name)}),": ",Object(T.jsx)("i",{children:JSON.stringify(e.value)})]})})):null]}),Object(T.jsxs)("td",{children:[e.quantity,e.quantityCanceled>0?Object(T.jsxs)("span",{title:"Cancelled",className:"text-orange-600 font-bold px-2 cursor-help whitespace-no-wrap",children:["[ ",e.quantityCanceled," ]"]}):null,e.quantityRefunded>0?Object(T.jsxs)("span",{title:"Refunded",className:"text-red-600 font-bold px-2 cursor-help whitespace-no-wrap",children:["[ ",e.quantityRefunded," ]"]}):null]}),Object(T.jsxs)("td",{className:"text-right",children:[parseFloat(e.vatRate),"%"]}),Object(T.jsx)("td",{className:"text-right",children:Object(i.formatAmount)(e.vatAmount.value,2,e.vatAmount.currency)}),Object(T.jsx)("td",{children:Object(T.jsx)("b",{children:Object(i.formatAmount)(e.totalAmount.value,2,e.totalAmount.currency)})}),Object(T.jsxs)("td",{children:[(null===e||void 0===e?void 0:e.cancelableQuantity)>0&&Object(T.jsx)(te.a,{color:"orange",onClick:function(){var t;return function(e,t){var n,c,r=t>1?parseFloat(null!==(n=null===(c=window.prompt("Wieviele von max. ".concat(t," m\xf6chten Sie abbrechen?"),"".concat(t)))||void 0===c?void 0:c.replace(",","."))&&void 0!==n?n:"0"):1;r<=t?window.confirm("M\xf6chten Sie wirklich diese Position ".concat(r,"x unwiderruflich abbrechen?"))&&a.cancelOrderLine(e,r).catch((function(e){return l("".concat(e))})):alert("Sie k\xf6nnen maximal ".concat(t," abbrechen."))}(e.id,null!==(t=e.cancelableQuantity)&&void 0!==t?t:0)},children:"cancel"}),(null===e||void 0===e?void 0:e.refundableQuantity)>0&&Object(T.jsx)(te.a,{color:"red",onClick:function(){var t;return function(e,t){var n,c,r=t>1?parseFloat(null!==(n=null===(c=window.prompt("Wieviele von max. ".concat(t," m\xf6chten Sie abbrechen?"),"".concat(t)))||void 0===c?void 0:c.replace(",","."))&&void 0!==n?n:"0"):1;r<=t?window.confirm("M\xf6chten Sie wirklich diese Position ".concat(r,"x unwiderruflich abbrechen?"))&&a.refundOrderLine(e,r).catch((function(e){return l("".concat(e))})):alert("Sie k\xf6nnen maximal ".concat(t," abbrechen."))}(e.id,null!==(t=e.refundableQuantity)&&void 0!==t?t:0)},children:"refund"})]})]},e.id)}))})]})})},le=n(15),ie=[{title:"ID",column:"id"},{title:"Status",column:"status"},{title:"Methode",column:"method"},{title:"Betrag",column:"amount"},{title:"Settlement",column:"settlement"},{title:"Refunded",column:"refunded"},{title:"Remaining",column:"remaining"},{title:"Details",column:"details"},{title:"Erstellt",column:"created"},{title:"",column:"_actions"}],se=function(){var e,t,n=Object(c.useContext)(Y),a=Object(c.useState)(!1),r=Object(O.a)(a,2),l=r[0],s=r[1],o=(null===(e=n.data)||void 0===e||null===(t=e._embedded)||void 0===t?void 0:t.payments)||[];return o.length?Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return s((function(e){return!e}))},children:["Zahlungen (",o.length,")",Object(T.jsx)(p.a,{className:" float-right",icon:l?X.f:X.g})]}),l&&Object(T.jsx)(ce.a,{fullWidth:!0,striped:!0,header:ie,children:o.map((function(e){var t,n,c;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e.id}),Object(T.jsx)("td",{children:J(e.status)}),Object(T.jsx)("td",{children:Object(T.jsx)(U,{method:e.method})}),Object(T.jsx)("td",{children:Object(i.formatAmount)(e.amount.value,2,e.amount.currency)}),Object(T.jsx)("td",{children:(null===(t=e.settlementAmount)||void 0===t?void 0:t.value)?Object(i.formatAmount)(e.settlementAmount.value,2,e.settlementAmount.currency):"-"}),Object(T.jsx)("td",{children:(null===(n=e.amountRefunded)||void 0===n?void 0:n.value)?Object(i.formatAmount)(e.amountRefunded.value,2,e.amountRefunded.currency):"-"}),Object(T.jsx)("td",{children:(null===(c=e.amountRemaining)||void 0===c?void 0:c.value)?Object(i.formatAmount)(e.amountRemaining.value,2,e.amountRemaining.currency):"-"}),Object(T.jsx)("td",{children:Object(T.jsx)("pre",{style:{fontSize:"9px"},children:JSON.stringify(e.details,null,2)})}),Object(T.jsx)("td",{className:"text-right",children:Object(T.jsx)(le.a,{date:e.createdAt})}),Object(T.jsx)("td",{children:e._links.changePaymentState&&Object(T.jsx)(y.a,{href:e._links.changePaymentState.href,target:"_blank",children:Object(T.jsx)(p.a,{icon:X.j})})})]},e.id)}))})]}):null},oe=f.a,de=function(e){var t=Object(c.useState)({loading:!1,error:null,data:null}),n=Object(O.a)(t,2),a=n[0],r=n[1],l=Object(c.useCallback)(function(){var t=Object(m.a)(h.a.mark((function t(n,c){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=oe(),t.next=3,a.run("shipments","sync",{kLieferschein:c,orderId:n,kBestellung:e});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[e]),i=Object(c.useCallback)(Object(m.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=oe(),console.debug("(useShipments->load)"),r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),n.run("orders","shipments",{kBestellung:e}).then((function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return r((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 4:case"end":return t.stop()}}),t)}))),[e]);return{loading:a.loading,error:a.error,data:a.data,load:i,sync:l}},ue=[{title:"Lieferschein",column:"cLieferschein"},{title:"Shipment ID",column:"id"},{title:"Carrier",column:"carrier"},{title:"Code",column:"code"},{title:"",column:"_actions"}],je=function(e){var t,n,a,r=e.kBestellung,l=Object(c.useContext)(Y),i=Object(c.useState)(!1),s=Object(O.a)(i,2),o=s[0],d=s[1],u=ne(),j=Object(O.a)(u,1)[0],b=de(r),f=b.load,x=b.data,v=b.loading,g=b.sync;Object(c.useEffect)((function(){f()}),[f]);return Object(T.jsxs)("div",{className:"mt-4",children:[Object(T.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return d((function(e){return!e}))},children:["Lieferungen (",null===(t=l.data)||void 0===t||null===(n=t._embedded)||void 0===n||null===(a=n.shipments)||void 0===a?void 0:a.length,")",Object(T.jsx)(p.a,{className:" float-right",icon:o?X.f:X.g})]}),o&&Object(T.jsx)(ce.a,{striped:!0,fullWidth:!0,header:ue,loadin:v,children:null===x||void 0===x?void 0:x.map((function(e){var t,n,c,a,r,i,s,o,d;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e.shipment?Object(T.jsx)(y.a,{color:"green",href:null===(t=l.data)||void 0===t||null===(n=t._links.dashboard)||void 0===n?void 0:n.href,target:"_blank",children:e.cLieferscheinNr}):e.cLieferscheinNr}),Object(T.jsx)("td",{children:(null===(c=e.shipment)||void 0===c?void 0:c.cShipmentId)?null===(a=e.shipment)||void 0===a?void 0:a.cShipmentId:"-"}),Object(T.jsx)("td",{children:(null===(r=e.shipment)||void 0===r?void 0:r.cCarrier)?e.shipment.cCarrier:"n/a"}),Object(T.jsx)("td",{children:(null===(i=e.shipment)||void 0===i?void 0:i.cCode)?Object(T.jsx)(y.a,{color:"blue",target:"_blank",href:null===(s=e.shipment)||void 0===s?void 0:s.cUrl,children:null===(o=e.shipment)||void 0===o?void 0:o.cCode}):"n/a"}),Object(T.jsxs)("td",{children:["completed"!==(null===(d=l.data)||void 0===d?void 0:d.status)&&null===e.shipment&&Object(T.jsx)(te.a,{title:"synchronize",onClick:function(){return function(e){var t;g(null===(t=l.data)||void 0===t?void 0:t.id,e).then(function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.error){e.next=4;break}j(t.data.error.message),e.next=6;break;case 4:return e.next=6,f();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(j)}(e.kLieferschein)},children:Object(T.jsx)(p.a,{icon:X.s})}),e.cUrl&&Object(T.jsx)(te.a,{children:Object(T.jsx)(p.a,{icon:X.r})})]})]},e.cLieferscheinNr)}))})]})},be=[{title:"ID",column:"id"},{title:"Status",column:"status"},{title:"Beschreibung",column:"description"},{title:"Betrag",column:"amount"},{title:"Erstellt",column:"created"},{title:"",column:"_actions"}],he=function(){var e,t,n,a,r,l,s,o,d,u,j=Object(c.useContext)(Y),b=j.data,h=j.refundOrder,m=j.refundAmount,f=j.cancelRefund,x=j.loading,v=Object(c.useState)(!1),g=Object(O.a)(v,2),k=g[0],y=g[1],N=Object(c.useState)(0),w=Object(O.a)(N,2),C=w[0],S=w[1],L=ne(),I=Object(O.a)(L,1)[0],E=Object(c.useCallback)((function(e){window.confirm("M\xf6chten Sie wirklich '".concat(e.toFixed(2)," ").concat(null===b||void 0===b?void 0:b.amount.currency,"' dieser Zahlung zur\xfcck erstatten?"))?m(e).then((function(){return S(0)})).catch(I):S(0)}),[S,I,null===b||void 0===b?void 0:b.amount.currency,m]);return Object(T.jsxs)("div",{className:"mt-4 relative",children:[Object(T.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return y((function(e){return!e}))},children:["Refunds (",null!==(e=null===b||void 0===b||null===(t=b._embedded)||void 0===t||null===(n=t.refunds)||void 0===n?void 0:n.length)&&void 0!==e?e:0,")",Object(T.jsx)(p.a,{className:" float-right",icon:k?X.f:X.g})]}),k&&Object(T.jsx)(i.Loading,{loading:x,children:Object(T.jsxs)("div",{children:["tr_"===(null===b||void 0===b||null===(a=b.id)||void 0===a?void 0:a.substring(0,3))&&parseFloat(null===b||void 0===b||null===(r=b.amountRemaining)||void 0===r?void 0:r.value)>0&&Object(T.jsxs)("div",{className:"flex justify-end items-stretch",children:[Object(T.jsx)("div",{className:"p-2 bg-gray-400 rounded-l leading-9",children:"Refund Amount:"}),Object(T.jsx)("div",{className:"p-2 bg-gray-400 leading-9",children:Object(T.jsx)("input",{className:"mx-1 text-center bg-transparent font-bold w-24",step:.01,min:0,value:C,onChange:function(e){return S(parseFloat(e.target.value.replace(",",".")))},type:"number"})}),parseFloat(null===b||void 0===b?void 0:b.amountRemaining.value)>0&&Object(T.jsxs)("div",{className:"p-2 bg-gray-400 rounded-r",children:[Object(T.jsx)(te.a,{light:!C||C<=0,disabled:!C||C<=0,onClick:function(){return E(C)},children:"refund"}),Object(T.jsxs)(te.a,{light:parseFloat(null===b||void 0===b?void 0:b.amountRemaining.value)<=0,disabled:parseFloat(null===b||void 0===b?void 0:b.amountRemaining.value)<=0,onClick:function(){window.confirm("Diese Bestellung bei Mollie wirklich zur\xfcck erstatten?")&&h().catch(I)},children:["refund all ",null===b||void 0===b?void 0:b.amountRemaining.value," ",null===b||void 0===b?void 0:b.amountRemaining.currency]})]})]}),(null===b||void 0===b||null===(l=b._embedded)||void 0===l||null===(s=l.refunds)||void 0===s?void 0:s.length)?Object(T.jsx)(ce.a,{striped:!0,fullWidth:!0,header:be,children:(null===b||void 0===b||null===(o=b._embedded)||void 0===o||null===(d=o.refunds)||void 0===d?void 0:d.length)&&(null===b||void 0===b||null===(u=b._embedded)||void 0===u?void 0:u.refunds.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:Object(T.jsx)("pre",{children:e.id})}),Object(T.jsx)("td",{className:"text-center",children:J(e.status)}),Object(T.jsx)("td",{children:e.description}),Object(T.jsx)("td",{className:"text-right",children:Object(i.formatAmount)(e.amount.value,2,e.amount.currency)}),Object(T.jsx)("td",{className:"text-right",children:Object(T.jsx)(le.a,{date:e.createdAt})}),Object(T.jsx)("td",{className:"text-right",children:"pending"===e.status?Object(T.jsx)(te.a,{color:"red",onClick:function(){return t=e.id,void(window.confirm("Diese Erstattung wirklich abbrechen?")&&f(t).catch(I));var t},children:"cancel"}):null})]},e.id)})))}):null]})})]})},me=f.a,Oe=function(e){var t=Object(c.useState)({loading:!1,error:null,data:null}),n=Object(O.a)(t,2),a=n[0],r=n[1],l=Object(c.useCallback)(Object(m.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=me(),r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),n.run("Orders","getQueue",{id:e}).then((function(e){r((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return r((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return r((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 3:case"end":return t.stop()}}),t)}))),[e,r]);return{loading:a.loading,data:a.data,error:a.error,load:l}},fe=[{title:"ID",column:"id"},{title:"Typ",column:"typ"},{title:"Result",column:"result"},{title:"Fehler?",column:"error"},{title:"Status",column:"status"},{title:"Erstellt",column:"created"},{title:"",column:"_actions"}],xe=function(e){var t=e.id,n=Object(c.useState)(!1),a=Object(O.a)(n,2),r=a[0],l=a[1],s=Oe(t),o=s.load,d=s.loading,u=s.data,j=s.error;Object(c.useEffect)((function(){o()}),[o]);return Object(T.jsxs)("div",{className:"mt-4 relative",children:[Object(T.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return l((function(e){return!e}))},children:["Queue ",(null===u||void 0===u?void 0:u.length)?Object(T.jsxs)(T.Fragment,{children:["(",null===u||void 0===u?void 0:u.length,")"]}):null," ",Object(T.jsx)(p.a,{className:" float-right",icon:r?X.f:X.g}),r&&Object(T.jsx)(p.a,{icon:X.s,onClick:function(e){o(),e.stopPropagation()},className:"cursor-pointer float-right mx-2",fixedWidth:!0})]}),r&&(j?Object(T.jsx)(x.a,{variant:"error",children:j}):Object(T.jsx)(i.Loading,{loading:d,children:Object(T.jsx)(ce.a,{striped:!0,fullWidth:!0,header:fe,children:null===u||void 0===u?void 0:u.map((function(e){var t,n;return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e.kId}),Object(T.jsx)("td",{children:e.cType}),Object(T.jsx)("td",{children:Object(T.jsx)("pre",{children:null!==(t=e.cResult)&&void 0!==t?t:"n/a"})}),Object(T.jsx)("td",{children:Object(T.jsx)("pre",{children:null!==(n=e.cError)&&void 0!==n?n:"n/a"})}),Object(T.jsx)("td",{children:e.dDone?"DONE":"PENDING"}),Object(T.jsx)("td",{children:Object(T.jsx)(le.a,{date:e.dCreated})}),Object(T.jsx)("td",{})]},e.kId)}))})}))]})},ve=f.a,pe=function(e,t){var n=Object(c.useState)({loading:!1,error:null,data:null}),a=Object(O.a)(n,2),r=a[0],l=a[1],i=Object(c.useCallback)(Object(m.a)(h.a.mark((function n(){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=ve(),l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),c.run("Orders","zalog",{kBestellung:e,id:t}).then((function(e){l((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return l((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return l((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 3:case"end":return n.stop()}}),n)}))),[t,l,e]);return{loading:r.loading,data:r.data,error:r.error,load:i}},ge=n(39),ke=[{title:"Level",column:"level"},{title:"Log",column:"log"},{title:"Erstellt",column:"created"}],ye=function(e){var t,n=e.kBestellung,a=e.mollieId,r=Object(c.useState)(!1),l=Object(O.a)(r,2),s=l[0],o=l[1],d=pe(n,a),u=d.load,j=d.loading,b=d.data,h=d.error;Object(c.useEffect)((function(){u()}),[u]);return Object(T.jsxs)("div",{className:"mt-4 relative",children:[Object(T.jsxs)("h3",{className:"font-bold text-2xl mb-1 cursor-pointer",onClick:function(){return o((function(e){return!e}))},children:["Logs ",b?Object(T.jsxs)(T.Fragment,{children:["(",null!==(t=null===b||void 0===b?void 0:b.length)&&void 0!==t?t:0,")"]}):null,Object(T.jsx)(p.a,{className:"float-right",icon:s?X.f:X.g}),s&&Object(T.jsx)(p.a,{icon:X.s,onClick:function(e){u(),e.stopPropagation()},className:"cursor-pointer float-right mx-2",fixedWidth:!0})]}),s&&(h?Object(T.jsx)(x.a,{variant:"error",children:h}):Object(T.jsx)(i.Loading,{loading:j,children:Object(T.jsx)(ce.a,{striped:!0,fullWidth:!0,header:ke,loading:j,children:null===b||void 0===b?void 0:b.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"text-center",children:1===Object(ge.parseInt)(e.nLevel)?Object(T.jsx)(i.Label,{color:"red",children:"ERROR"}):2===Object(ge.parseInt)(e.nLevel)?Object(T.jsx)(i.Label,{color:"blue",children:"NOTICE"}):3===Object(ge.parseInt)(e.nLevel)?Object(T.jsx)(i.Label,{color:"gray",children:"DEBUG"}):e.nLevel}),Object(T.jsx)("td",{children:e.cLog}),Object(T.jsx)("td",{className:"text-right",children:Object(T.jsx)(le.a,{date:e.dDatum})})]},e.kZahlunglog)}))})}))]})},Ne=function(e){var t,n=H(e.id,!0),a=ee(e.id),r=a.loading,l=a.load,s=a.error,o=a.data,d=function(){l(),n.load()};return Object(c.useEffect)((function(){l()}),[l]),null!==n.error||null!==s?Object(T.jsxs)("div",{className:"relative flex-col mb-3 rounded-md w-full",children:[Object(T.jsxs)("div",{className:"flex flex-row bg-black p-3 rounded-md text-white font-bold text-2xl",children:[Object(T.jsxs)("div",{className:"flex-grow",children:["Bestellung: ",null===o||void 0===o?void 0:o.cBestellNr," (",Object(T.jsx)("pre",{className:"inline text-ws_gray-light",children:e.id}),")"]}),Object(T.jsx)("div",{onClick:d,className:"cursor-pointer mr-2",children:Object(T.jsx)(p.a,{icon:X.s,spin:r,size:"sm"})}),Object(T.jsx)("div",{onClick:e.onClose,className:"cursor-pointer",children:Object(T.jsx)(p.a,{icon:X.t})})]}),null!=s&&Object(T.jsxs)(x.a,{variant:"error",icon:{icon:v.b},children:['Fehler beim laden der Bestellung "',e.id,'": ',s]}),null!=n.error&&Object(T.jsxs)(x.a,{variant:"error",icon:{icon:v.b},children:['Fehler beim Laden von Mollie "',e.id,'": ',n.error]})]}):Object(T.jsx)("div",{className:"relative mb-3 w-full relative",children:Object(T.jsxs)(i.Loading,{loading:r,children:[Object(T.jsxs)("div",{className:"flex flex-row bg-black p-3 rounded-md text-white font-bold text-2xl",children:[Object(T.jsxs)("div",{className:"flex-grow",children:["Bestellung: ",Object(T.jsx)("span",{title:null===o||void 0===o?void 0:o.kBestellung,children:null===o||void 0===o?void 0:o.cBestellNr})," (",Object(T.jsx)("pre",{className:"inline text-ws_gray-light",children:e.id}),")"]}),Object(T.jsx)("div",{onClick:d,className:"cursor-pointer mr-2",children:Object(T.jsx)(p.a,{icon:X.s,spin:r,size:"sm"})}),Object(T.jsx)("div",{onClick:e.onClose,className:"cursor-pointer",children:Object(T.jsx)(p.a,{icon:X.t})})]}),Object(T.jsx)("div",{className:" rounded-md relative",children:Object(T.jsx)(i.Loading,{loading:n.loading,children:Object(T.jsxs)(Y.Provider,{value:n,children:[Object(T.jsx)(G,{}),n&&"payment"===(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.resource)?Object(T.jsx)(T.Fragment,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(re,{}),Object(T.jsx)(se,{}),o&&Object(T.jsx)(je,{kBestellung:null===o||void 0===o?void 0:o.kBestellung})]}),Object(T.jsx)(he,{}),(null===n||void 0===n?void 0:n.data)&&(null===o||void 0===o?void 0:o.kBestellung)&&Object(T.jsx)(ye,{kBestellung:o.kBestellung,mollieId:n.data.id}),Object(T.jsx)(xe,{id:e.id})]})})})]})})},we=f.a,Ce=function(){var e=Object(c.useState)({loading:!1,error:null,data:null}),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)(function(){var e=Object(m.a)(h.a.mark((function e(t,n,c){var r,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=we(),a((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),l={":limit":n,":offset":n*t},i="SELECT o.*, b.cStatus as cJTLStatus, b.cAbgeholt, b.cVersandartName, b.cZahlungsartName, b.fGuthaben, b.fGesamtsumme FROM xplugin_ws5_mollie_orders o JOIN tbestellung b ON b.kbestellung = o.kBestellung ORDER BY b.dErstellt DESC;",c&&""!==c.trim()&&(i="SELECT o.*, b.cStatus as cJTLStatus, b.cAbgeholt, b.cVersandartName, b.cZahlungsartName, b.fGuthaben, b.fGesamtsumme FROM xplugin_ws5_mollie_orders o JOIN tbestellung b ON b.kbestellung = o.kBestellung WHERE b.cBestellNr LIKE :query1 OR o.cOrderId LIKE :query2 OR o.cStatus LIKE :query3 OR o.cMethod LIKE :query4 OR o.cTransactionId LIKE :query5 ORDER BY b.dErstellt DESC;",l[":query1"]=l[":query2"]=l[":query3"]=l[":query4"]=l[":query5"]="%".concat(c,"%")),r.run("orders","all",{query:i,params:l}).then((function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return a((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),[]);return{loading:n.loading,error:n.error,data:n.data,load:r}},Se=function(){return Object(o.b)({position:"top-right",style:{backgroundColor:"green",color:"white",fontSize:"20px",textAlign:"center",padding:"10px"}})},Le=function(){var e,t=Se(),n=Object(O.a)(t,1)[0],a=Object(c.useState)(!1),r=Object(O.a)(a,2),l=r[0],s=r[1],o=Object(c.useState)({}),b=Object(O.a)(o,2),v=b[0],g=b[1],k=Object(f.a)(),N=Object(i.usePluginInfo)(),w=ne(),C=Object(O.a)(w,1)[0],S=Ce(),L=S.loading,I=S.load,E=S.error,M=S.data,R=Object(c.useState)({page:0,perPage:10,query:""}),A=Object(O.a)(R,2),B=A[0],_=A[1];Object(c.useEffect)((function(){I(B.page,B.perPage,B.query)}),[I,B.perPage,B.page,B.query]);var q=Object(c.useCallback)(Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(B.page,B.perPage,B.query);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[B.page,B.perPage,I,B.query]),D=function(){var e=Object(m.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==B.page||n!==B.perPage){e.next=5;break}return e.next=3,q();case 3:e.next=6;break;case 5:_((function(e){return Object(j.a)(Object(j.a)({},e),{},{page:t,perPage:n})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=Object(c.useCallback)((function(e){e!==B.query&&_((function(t){return Object(j.a)(Object(j.a)({},t),{},{query:e,page:0})}))}),[_,B.query]),z=E?Object(T.jsxs)(x.a,{variant:"error",children:[E," ",Object(T.jsx)(y.a,{color:"red",onClick:function(){return I(B.page,B.perPage,B.query)},children:"Erneut versuchen!"})]}):Object(T.jsx)(ce.a,{fullWidth:!0,onSearch:P,header:Ie,loading:L||l,striped:!0,pagination:{page:B.page,total:null!==(e=null===M||void 0===M?void 0:M.maxItems)&&void 0!==e?e:0,perPage:B.perPage,onChange:D},children:(null===M||void 0===M?void 0:M.items)&&(null===M||void 0===M?void 0:M.items.length)>0?null===M||void 0===M?void 0:M.items.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsxs)("td",{children:[Object(T.jsx)(y.a,{color:"blue",onClick:function(){return g((function(t){return t[e.cOrderId]?Object(j.a)({},t):Object(j.a)(Object(u.a)({},e.cOrderId,e.cBestellNr),t)}))},children:e.cBestellNr}),parseInt(e.bSynced)?null:Object(T.jsx)("abbr",{className:"cursor-help",title:"Nicht abholbar.",children:"*"})]}),Object(T.jsxs)("td",{children:[parseInt(e.bTest)?Object(T.jsx)(i.Label,{className:"inline mr-1",color:"red",children:"TEST"}):null,Object(T.jsx)("pre",{className:"inline",children:e.cOrderId})]}),Object(T.jsx)("td",{className:"text-center",children:J(e.fAmountRefunded===e.fAmount?"refunded":e.cStatus)}),Object(T.jsx)("td",{className:"text-center",children:V(e.cJTLStatus)}),Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)(U,{method:e.cMethod})}),Object(T.jsx)("td",{className:"text-right",children:Object(i.formatAmount)(e.fAmount)}),Object(T.jsx)("td",{className:"text-center",children:e.cCurrency}),Object(T.jsx)("td",{children:Object(T.jsx)(le.a,{date:e.dCreated})}),Object(T.jsxs)("td",{className:"text-right",children:[!parseInt(e.bSynced)&&Object(T.jsx)(te.a,{onClick:function(){return t=e.cOrderId,s(!0),void k.run("orders","fetchable",{id:t}).then(q).catch((function(e){return C("".concat(e))})).finally((function(){return s(!1)}));var t},title:"Abholbar machen",className:"mr-1",children:Object(T.jsx)(p.a,{icon:X.v})}),!["paid","authorized","completed","pending"].includes(e.cStatus)&&parseInt(e.cJTLStatus)>0?Object(T.jsx)(te.a,{onClick:function(){return t=e.kId,s(!0),void k.run("orders","reminder",{id:t}).then(Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("E-Mail versendet."),e.next=3,q();case 3:case"end":return e.stop()}}),e)})))).catch(C).finally((function(){return s(!1)}));var t},title:"Zahlungserinnerung "+(null!==e.dReminder?"erneut ":"")+"verschicken",className:"mr-1",children:null!==e.dReminder?Object(T.jsxs)("span",{className:"fa-layers fa-fw",children:[Object(T.jsx)(p.a,{icon:X.k,inverse:!0,transform:"shrink-7"}),Object(T.jsx)(p.a,{icon:X.s,inverse:!0,transform:"grow-7"})]}):Object(T.jsx)(p.a,{icon:X.k})}):null,Object(T.jsx)(te.a,{onClick:function(){return t=e.cOrderId,s(!0),void fetch(N.shopURL+"?mollie=1&id=".concat(t,"&admin=1"),{mode:"no-cors",method:"GET"}).then((function(){return fetch(N.shopURL,{mode:"no-cors"}).then(q)})).catch((function(e){return C("".concat(e))})).finally((function(){return s(!1)}));var t},title:"Simulate Webhook",children:Object(T.jsx)(p.a,{icon:X.e})})]})]},e.cOrderId)})):null});return Object(T.jsx)("div",{className:"relative container mx-auto",children:Object.keys(v).length>0?Object(T.jsx)("div",{className:"container bg-white p-1 mx-auto rounded-md",children:Object(T.jsx)(i.Tabs,{active:Object.keys(v).length,tabs:[{component:z,title:"\xdcbersicht",isDashboard:!1,color:"blue"}].concat(Object(d.a)(Object.keys(v).reverse().map((function(e,t){return{component:Object(T.jsx)(Ne,{id:e,onClose:function(){return t=e,void g((function(e){if(e[t]){var n=Object(j.a)({},e);return delete n[t],n}return Object(j.a)({},e)}));var t}}),isDashboard:!1,title:v[e]}}))))})}):Object(T.jsx)("div",{className:"bg-white rounded-md p-1",children:z})})},Ie=[{title:"BestellNr",column:"cBestellNr"},{title:"Mollie ID",column:"cOrderId"},{title:"Mollie Status",column:"cStatus"},{title:"JTL Status",column:"cJTLStatus"},{title:"Methode",column:"cMethod"},{title:"Betrag",column:"fAmount"},{title:"W\xe4hrung",column:"cCurrency"},{title:"Erstellt",column:"dCreated"},{title:"",column:"_actions"}],Ee=n.p+"static/media/mollie-dashboard.8d8e65e5.png",Me=function(e){var t,n,c=e.method,a=e.cleanLogfiles;return Object(T.jsx)("div",{style:{flexBasis:"33%"},children:Object(T.jsxs)("div",{className:"m-2 p-2 border-b",children:[c.paymentMethod&&c.duringCheckout&&!c.allowDuringCheckout&&Object(T.jsx)(p.a,{className:"mr-4 ml-1 cursor-help",icon:v.c,color:"red",onClick:function(){return alert("Zahlung vor Bestellabschluss wird nicht unterst\xfctzt. Diese Zahlungsart wird nicht zur auswahl stehen.")},title:"Zahlung vor Bestellabschluss nicht unterst\xfctzt."}),Object(T.jsx)(U,{method:c.mollie.id})," ",c.mollie.description,Object(T.jsx)(p.a,{icon:X.o,title:"Informationen anzeigen",size:"sm",className:"ml-2 cursor-help",onClick:function(){return W(c)}}),Object(T.jsxs)("div",{className:"float-right",children:[c.duringCheckout?Object(T.jsx)(p.a,{icon:X.k,className:"ml-1 cursor-help",title:"Zahlung vor Bestellabschluss",color:c.allowDuringCheckout?"green":"red"}):Object(T.jsx)(p.a,{icon:X.l,className:"ml-1 cursor-help",title:"Zahlung nach Bestellabschluss",color:c.allowDuringCheckout?"blue":"green"}),c.components?Object(T.jsx)(T.Fragment,{children:"S"===c.components||"Y"===c.components?Object(T.jsx)(p.a,{className:"ml-1 cursor-help",icon:X.i,onClick:function(){return alert("Mollie Components sind aktiviert: "+("S"===c.components?"optional.":"obligatorisch."))},title:"Mollie Components enabled."+("S"===c.components?" (optional)":" (obligatorisch)"),color:"S"===c.components?"green":"blue"}):Object(T.jsx)(p.a,{className:"ml-1 cursor-help",icon:X.i,onClick:function(){return alert("Mollie Components sind deaktiviert.")},color:"red",title:"Mollie Components disabled"})}):null,c.api&&"payment"===c.api?Object(T.jsx)(p.a,{className:"cursor-help ml-1",icon:X.q,onClick:function(){return alert("Payment API ist aktiviert.")},title:"Payment API",color:"green"}):null,Object(T.jsx)(p.a,{icon:X.r,onClick:function(){var e;return alert(c.shipping&&(null===(e=c.shipping)||void 0===e?void 0:e.length)?"Mit folgende Versandarten verkn\xfcpft:\n\n"+c.shipping.map((function(e){return" - "+e.cName})).join("\n"):"Mit keiner Versandart verkn\xfcpft!")},className:"cursor-help ml-1",color:c.shipping&&(null===(t=c.shipping)||void 0===t?void 0:t.length)?"green":"red",title:c.shipping&&(null===(n=c.shipping)||void 0===n?void 0:n.length)?c.shipping.map((function(e){return e.cName})).join(", "):"n/a"}),c.log&&c.paymentMethod?Object(T.jsx)(p.a,{onClick:a(c.paymentMethod.cModulId),icon:X.m,title:"Clean Logfiles",className:"cursor-pointer ml-1 text-red-600"}):null,!1===c.paymentMethod?null:Object(T.jsx)("a",{title:"Einstellungen",href:c.settings,className:"ml-1",target:"_blank",rel:"noreferrer",children:Object(T.jsx)(p.a,{icon:X.h})})]})]})},c.mollie.id)},Re=function(e){var t,n=e.method,c=e.cleanLogfiles,a=[];return n.shipping.length||a.push("Keine Versandarten verkn\xfcpft."),n.paymentMethod||a.push("Keine Zahlungsart im Shop gefunden."),n.paymentMethod&&n.duringCheckout&&!n.allowDuringCheckout&&a.push("Zahlung vor Bestellabschluss leider nicht m\xf6glich."),Object(T.jsx)("div",{style:{flexBasis:"33%"},children:Object(T.jsxs)("div",{className:"m-2 p-2 border-b",children:["activated"!==n.mollie.status?Object(T.jsx)(p.a,{className:"mr-4 ml-1 cursor-help",icon:v.f,color:"red",onClick:function(){return alert("Zahlungsart bei Mollie nicht aktiv.")},title:"Zahlungsart bei Mollie nicht aktiv."}):Object(T.jsx)(p.a,{className:"mr-4 ml-1 cursor-help",icon:v.c,color:"red",onClick:function(){return alert(a.join("\n"))},title:a.join(" ")}),Object(T.jsx)(U,{method:n.mollie.id})," ",Object(T.jsx)("span",{className:"activated"!==n.mollie.status?"text-red-400":"",children:n.mollie.description}),Object(T.jsx)(p.a,{icon:X.o,title:"Informationen anzeigen",size:"sm",className:"ml-2 cursor-help",onClick:function(){return W(n)}}),Object(T.jsxs)("div",{className:"float-right",children:[n.duringCheckout?Object(T.jsx)(p.a,{icon:X.k,className:"ml-1 cursor-help",title:"Zahlung vor Bestellabschluss",color:n.allowDuringCheckout?"green":"red"}):Object(T.jsx)(p.a,{icon:X.l,className:"ml-1 cursor-help",title:"Zahlung nach Bestellabschluss",color:n.allowDuringCheckout?"blue":"green"}),n.shipping&&(null===(t=n.shipping)||void 0===t?void 0:t.length)?null:Object(T.jsx)(p.a,{icon:X.r,color:"red",title:"Mit keine Versandart verbunden.",className:"ml-1 cursor-help"}),n.log&&n.paymentMethod?Object(T.jsx)(p.a,{onClick:c(n.paymentMethod.cModulId),icon:X.m,title:"Clean Logfiles",className:"cursor-pointer ml-1 text-red-600"}):null,!1===n.paymentMethod?null:Object(T.jsx)("a",{title:"Einstellungen",href:n.settings,className:"ml-1",target:"_blank",rel:"noreferrer",children:Object(T.jsx)(p.a,{icon:X.h})})]})]})},n.mollie.id)},Ae=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({}),l=Object(O.a)(r,2),s=l[0],o=l[1],d=Object(c.useState)({}),b=Object(O.a)(d,2),h=b[0],m=b[1],x=Object(c.useState)({methods:!1,statistics:!1}),g=Object(O.a)(x,2),k=g[0],N=g[1],w=Object(c.useState)(!0),C=Object(O.a)(w,2),S=C[0],L=C[1],I=Object(i.usePluginInfo)(),E=I.endpoint.substring(0,I.endpoint.lastIndexOf("/"))+"/app/build",M=Object(f.a)(),R=function(e,t){N((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},e,t))}))},A=function(e){return function(){R("methods",!0),M.run("mollie","cleanlog",{cModulId:e}).then((function(e){B()})).catch((function(e){console.error(e),R("methods",!1)}))}},B=Object(c.useCallback)((function(){R("methods",!0),M.run("mollie","methods").then((function(e){o(e.data.data),L(!1)})).catch(console.error).finally((function(){R("methods",!1)}))}),[M]),_=Object(c.useCallback)((function(){R("statistics",!0),M.run("mollie","statistics").then((function(e){return m(e.data.data)})).catch(console.error).finally((function(){return R("statistics",!1)}))}),[M]);Object(c.useEffect)((function(){B(),_()}),[_,B]);var q=[],D=[];return s&&Object.keys(s).forEach((function(e){"activated"===s[e].mollie.status&&s[e].shipping.length&&s[e].paymentMethod&&(!s[e].duringCheckout||s[e].allowDuringCheckout)?q.push(Object(T.jsx)(Me,{cleanLogfiles:A,method:s[e]},e)):D.push(Object(T.jsx)(Re,{cleanLogfiles:A,method:s[e]},e))})),Object(T.jsxs)("div",{className:"mx-2",children:[Object(T.jsxs)("div",{className:"mb-4 w-full bg-white rounded-md p-4 relative",children:[Object(T.jsx)(p.a,{onClick:B,spin:k.methods,icon:X.s,size:"lg",className:"float-right cursor-pointer",title:"aktualisieren"}),S?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("img",{src:E+Ee,alt:"Setup Assistant",className:"mx-auto"}),Object(T.jsx)(te.a,{onClick:function(){return window.location.href="https://ws-url.de/mollie-pay"},color:"green",className:"mx-auto block my-6",children:"Jetzt kostenlos Mollie Account anlegen!"})]}):Object(T.jsxs)("div",{className:"flex items-center my-3",children:[Object(T.jsx)("img",{src:"https://cdn.webstollen.de/plugins/ws_mollie_ws.svg",alt:"Plugin Icon",className:"mr-2 max-w-full",style:{maxWidth:"100px"}}),Object(T.jsxs)("div",{className:"text-xl",children:["Integireren Sie alle wichtigen",Object(T.jsx)("br",{}),"Zahlungsmethoden in k\xfcrzester zeit."]}),Object(T.jsx)("div",{children:Object(T.jsxs)(te.a,{onClick:function(){var e;return null===(e=window.open("https://mollie.com/dashboard","_blank"))||void 0===e?void 0:e.focus()},className:"mx-8",children:["Mollie Dashboard ",Object(T.jsx)(p.a,{icon:X.n})]})})]}),Object(T.jsxs)(i.Loading,{loading:k.methods,children:[q.length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("b",{children:"Aktive Zahlungsarten:"}),Object(T.jsx)("div",{className:"flex flex-wrap content-center justify-start flex-row mb-4",children:q})]}),D.length>0&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("b",{children:"Zahlungsarten mit Problemen:"}),Object(T.jsx)("div",{className:"flex flex-wrap content-center justify-start flex-row mb-4",children:D})]})]}),Object(T.jsxs)("div",{className:"text-right",children:[Object(T.jsxs)(y.a,{className:"text-xs",onClick:function(){return a((function(e){return!e}))},children:["Legende ",n?"ausblenden":"anzeigen"]}),n?Object(T.jsx)("div",{className:"m-2 p-2",children:Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"red",icon:v.f,title:"Konfigurationsfehler bei Mollie"})," = Konfigurationsfehler bei Mollie"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"red",size:"xs",icon:v.c,title:"Konfigurationsfehler im Shop"})," ","= Konfigurationsfehler im Shop"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"red",size:"xs",icon:X.r,title:"Keine Versandarten verbunden"})," ","= Keine Versandarten verbunden"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"green",size:"xs",icon:X.r,title:"Versandarten verbunden"})," = Versandarten verbunden"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"red",size:"xs",icon:X.i,title:"Mollie Components deaktiviert"})," ","= Mollie Components deaktiviert"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"blue",size:"xs",icon:X.i,title:"Mollie Components aktiviert (obligatorisch)"})," ","= Mollie Components aktiviert (obligatorisch)"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"green",size:"xs",icon:X.i,title:"Mollie Components aktiviert (optional)"})," ","= Mollie Components aktiviert (optional)"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"green",size:"xs",icon:X.q,title:"Payment API aktiviert"})," = Payment API aktiviert"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"green",size:"xs",icon:X.k,title:"Zahlung vor Bestellabschluss"})," ","= Zahlung vor Bestellabschluss"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"red",size:"xs",icon:X.k,title:"Fehler: Zahlung vor Bestellabschluss"})," ","= Fehler: Zahlung vor Bestellabschluss"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"green",size:"xs",icon:X.l,title:"Zahlung nach Bestellabschluss"})," ","= Zahlung nach Bestellabschluss"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"blue",size:"xs",icon:X.l,title:"Zahlung nach Bestellabschluss, zahlung vor Bestellabschluss w\xe4re m\xf6glich!"})," ","= Zahlung nach Bestellabschluss"]}),Object(T.jsxs)("li",{className:"text-xs",children:[Object(T.jsx)(p.a,{color:"red",size:"xs",icon:X.m,title:"ZA hat mehr als 30 Tage alte Logeintr\xe4ge"})," ","= Logfiles \xe4lter als 30 Tage l\xf6schen"]})]})}):null]}),Object(T.jsx)(te.a,{onClick:function(){return window.location.href="versandarten.php"},color:"blue",className:"mx-auto block my-6",children:"Zu den Versandarten"})]}),Object(T.jsxs)("div",{className:"flex flex-row mb-3",children:[Object(T.jsxs)("div",{className:"bg-white rounded-md flex-1 p-4 mr-2 relative",children:[Object(T.jsx)(p.a,{onClick:_,spin:k.statistics,icon:X.s,size:"lg",className:"float-right cursor-pointer",title:"aktualisieren"}),Object(T.jsx)("b",{children:"Mollie Ums\xe4tze:"}),Object(T.jsx)(i.Loading,{loading:k.statistics,children:Object(T.jsxs)("div",{className:"flex flex-row justify-around items-baseline place-items-center my-5",children:[h.day&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:Object(i.formatAmount)(h.day.amount,2,"\u20ac")}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last day"})]}),h.week&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:Object(i.formatAmount)(h.week.amount,2,"\u20ac")}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last week"})]}),h.month&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:Object(i.formatAmount)(h.month.amount,2,"\u20ac")}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last month"})]}),h.year&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:Object(i.formatAmount)(h.year.amount,2,"\u20ac")}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last year"})]})]})})]}),Object(T.jsxs)("div",{className:"bg-white rounded-md flex-1 p-4 ml-2 relative",children:[Object(T.jsx)(p.a,{onClick:_,spin:k.statistics,icon:X.s,size:"lg",className:"float-right cursor-pointer",title:"aktualisieren"}),Object(T.jsx)("b",{children:"Mollie Transaktionen:"}),Object(T.jsx)(i.Loading,{loading:k.statistics,children:Object(T.jsxs)("div",{className:"flex flex-row justify-around items-baseline place-items-center my-5",children:[h.day&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:h.day.transactions}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last day"})]}),h.week&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:h.week.transactions}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last week"})]}),h.month&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:h.month.transactions}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last month"})]}),h.year&&Object(T.jsxs)("div",{className:"flex flex-col",children:[Object(T.jsx)("div",{className:"font-semibold",children:h.year.transactions}),Object(T.jsx)("div",{className:"text-ws_gray-normal text-sm",children:"last year"})]})]})})]})]})]})},Be=f.a,_e=function(){var e=Object(c.useState)({loading:!1,error:null,data:null}),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)(function(){var e=Object(m.a)(h.a.mark((function e(t,n,c){var r,l,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Be(),a((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!0,error:null})})),l={":limit":n,":offset":n*t},i="SELECT * FROM xplugin_ws5_mollie_queue ORDER BY dCreated DESC",c&&""!==c.trim()&&(i="SELECT * FROM xplugin_ws5_mollie_queue WHERE cType LIKE :query1 OR cResult LIKE :query2 OR cError LIKE :query3 ORDER BY dCreated DESC",l[":query1"]=l[":query2"]=l[":query3"]="%".concat(c,"%")),r.run("queue","all",{query:i,params:l}).then((function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},{data:e.data.data})}))})).catch((function(e){return a((function(t){return Object(j.a)(Object(j.a)({},t),{},{error:"".concat(e)})}))})).finally((function(){return a((function(e){return Object(j.a)(Object(j.a)({},e),{},{loading:!1})}))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),[a]);return{loading:n.loading,data:n.data,error:n.error,load:r}},qe=function(){var e,t,n=Object(c.useState)(!1),a=Object(O.a)(n,2),r=a[0],l=a[1],i=Object(f.a)(),s=ne(),o=Object(O.a)(s,1)[0],d=_e(),u=d.data,b=d.load,v=d.error,g=d.loading,k=Object(c.useState)({page:0,perPage:10,query:""}),N=Object(O.a)(k,2),w=N[0],C=N[1],S=Object(c.useCallback)(Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(w.page,w.perPage,w.query);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[b,w.page,w.perPage,w.query]);Object(c.useEffect)((function(){b(w.page,w.perPage,w.query)}),[b,w.page,w.perPage,w.query]);var L=function(){var e=Object(m.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==w.page||n!==w.perPage){e.next=5;break}return e.next=3,b(w.page,w.perPage);case 3:e.next=6;break;case 5:C((function(e){return Object(j.a)(Object(j.a)({},e),{},{page:t,perPage:n})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=Object(c.useCallback)((function(e){e!==w.query&&C((function(t){return Object(j.a)(Object(j.a)({},t),{},{query:e,page:0})}))}),[C,w.query]),E=v?Object(T.jsxs)(x.a,{variant:"error",children:[v," ",Object(T.jsx)(y.a,{color:"red",onClick:S,children:"Erneut versuchen!"})]}):Object(T.jsx)(ce.a,{loading:r||g,header:[{title:"ID",column:"kID"},{title:"Type",column:"cType"},{title:"Result?",column:"cResult"},{title:"Error?",column:"cError"},{title:"Erledigt",column:"dDone"},{title:"Erstellt",column:"dCreated"},{title:"",column:"_actions"}],onSearch:I,fullWidth:!0,striped:!0,pagination:{page:w.page,total:null!==(e=null===u||void 0===u?void 0:u.maxItems)&&void 0!==e?e:0,perPage:w.perPage,onChange:L},children:null===u||void 0===u||null===(t=u.items)||void 0===t?void 0:t.map((function(e){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:e.kId}),Object(T.jsx)("td",{children:Object(T.jsx)("code",{children:e.cType})}),Object(T.jsx)("td",{children:Object(T.jsx)("div",{className:"truncate max-w-xs hover:overflow-clip hover:whitespace-pre-line",children:e.cResult})}),Object(T.jsx)("td",{children:Object(T.jsx)("div",{className:"truncate max-w-xs hover:overflow-clip hover:whitespace-pre-line",children:e.cError})}),Object(T.jsx)("td",{children:e.dDone?Object(T.jsx)(le.a,{date:e.dDone}):"-"}),Object(T.jsx)("td",{children:e.dCreated?Object(T.jsx)(le.a,{date:e.dCreated}):"-"}),Object(T.jsx)("td",{children:Object(T.jsxs)("div",{className:"flex text-center justify-center items-center",children:[e.bLock?Object(T.jsxs)("div",{className:"flex flex-col text-center  items-center ",children:[Object(T.jsx)(te.a,{onClick:function(){return window.confirm("Wirklich entsperren?")?(t=e.kId,l(!0),void i.run("queue","unlock",{id:t}).then(S).catch(o).finally((function(){return l(!1)}))):null;var t},color:"orange",title:"Unlock!",className:"cursor-pointer p-1 ml-1",children:Object(T.jsx)(p.a,{fixedWidth:!0,icon:X.p})}),Object(T.jsx)(le.a,{className:"text-xs antialiased",date:e.bLock})]}):Object(T.jsx)(te.a,{onClick:function(){return window.confirm("Wirklich erneut ausf\xfchren?")?(t=e.kId,l(!0),void i.run("queue","run",{id:t}).then(S).catch(o).finally((function(){return l(!1)}))):null;var t},className:"ml-1",color:"blue",title:"Run again!",children:Object(T.jsx)(p.a,{fixedWidth:!0,icon:X.e})}),Object(T.jsx)(te.a,{onClick:function(){return window.confirm("Wirklich l\xf6schen?")?(t=e.kId,l(!0),void i.run("queue","delete",{id:t}).then(S).catch(o).finally((function(){return l(!1)}))):null;var t},title:"Delete",className:"ml-1",color:"red",children:Object(T.jsx)(p.a,{fixedWidth:!0,icon:X.u})})]})})]},e.kId)}))});return Object(T.jsx)("div",{className:"relative container mx-auto",children:Object(T.jsx)("div",{className:"bg-white rounded-md p-1",children:E})})},De=[{title:"Dashboard",isDashboard:!0,component:Ae},{title:"Bestellungen",isDashboard:!1,component:Le},{title:"Warteschlange",isDashboard:!1,component:qe}];l.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(o.a,{children:Object(T.jsx)(i.App,{tabs:De})})}),document.getElementById("root")),s()}},[[95,1,2]]]);
//# sourceMappingURL=main.1a4a5bc3.chunk.js.map